<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>nodeJS基础 | 大排档</title>
    <meta name="author" content="siguang(厨子)" />
    <meta name="version" content="1.0.0" />
    <meta name="keywords" content="" />
    <meta name="description" content="| nodeJS|| buffer: 处理二进制, 对字符串与二进制进行转换 (done)| fs: 文件系统操作 (done)| http: 处理http请求, 创建服务器, 和处理客户端与服务器之间的数据传递request、response (done)| stream: 文件流| path: 文件路径的处理 (done)| URL: 网络地址解析 (done)| querystring: URL查询字符串 (done)| Cookie、Session、Token (done)| event" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="baidu-site-verification" content="F0CXvmUgA9" />

    
    
    <link rel="icon" href="/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <button id="open-panel" class="open-panel"><i class="icon-library"></i></button>

    <nav class="nav-inner">

        
        
        <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
        </li>
        
        
        
        <li class="nav-item nav-item-tag">
            <a id="nav-tag" class="nav-link" href="#">标签</a>
            <div id="nav-tags" class="nav-tag-wrap">
                <i class="nav-tag-arrow"></i>
                
  <div class="widget-wrap">
    <h3 class="widget-title">
        <i class="icon-tag vm"></i>
        <span class="vm">Mot-clés</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/EggJS/">EggJS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML-CSS/">HTML/CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP详解/">HTTP详解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Less/">Less</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sass/">Sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mock数据/">mock数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数式编程/">函数式编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端优化/">前端优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端插件类/">前端插件类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端构建工具/">前端构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插件/">插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务端开发/">服务端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板引擎/">模板引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器内核/">浏览器内核</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端积累/">移动端积累</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/经济学/">经济学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/金融/">金融</a></li></ul>
    </div>
  </div>


            </div>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/archives">归档</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/atom.xml">订阅</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/about">关于</a>
        </li>
        
        
        

    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://siguang1983.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#安装"><span class="toc-number">1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NPM与包"><span class="toc-number">2.</span> <span class="toc-text">NPM与包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NodeJS"><span class="toc-number">3.</span> <span class="toc-text">NodeJS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#模块系统-require、exports"><span class="toc-number">4.</span> <span class="toc-text">模块系统 require、exports</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#事件-EventEmitter"><span class="toc-number">5.</span> <span class="toc-text">事件 EventEmitter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#process-进程对象"><span class="toc-number">6.</span> <span class="toc-text">process 进程对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TCP"><span class="toc-number">7.</span> <span class="toc-text">TCP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#connect"><span class="toc-number">8.</span> <span class="toc-text">connect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#utils-工具"><span class="toc-number">9.</span> <span class="toc-text">utils 工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Events-事件"><span class="toc-number">10.</span> <span class="toc-text">Events 事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cookie-和-Session"><span class="toc-number">11.</span> <span class="toc-text">cookie 和 Session</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webSocket"><span class="toc-number">12.</span> <span class="toc-text">webSocket</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#错误处理"><span class="toc-number">13.</span> <span class="toc-text">错误处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#http协议"><span class="toc-number">14.</span> <span class="toc-text">http协议</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content"><article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            nodeJS基础
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="/2017/01/10/nodeJS基础用法/">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2017-01-10T10:10:21.000Z" itemprop="datePublished">2017-01-10</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/Node-js/">Node.js</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>| nodeJS<br>|<br>| buffer: 处理二进制, 对字符串与二进制进行转换 (done)<br>| fs: 文件系统操作 (done)<br>| http: 处理http请求, 创建服务器, 和处理客户端与服务器之间的数据传递request、response (done)<br>| stream: 文件流<br>| path: 文件路径的处理 (done)<br>| URL: 网络地址解析 (done)<br>| querystring: URL查询字符串 (done)<br>| Cookie、Session、Token (done)<br>| event: 事件机制<br>|<br>| DNS: 域名解析<br>| net: TCP网络<br>| dgram: UDP网络<br>| crypto: 数据加密<br>| process: 进程<br>| childe_process: 子进程<br>| cluster: 集群<br>| global: 全局<br>|<br>| Express<br>| Template 模板 jade、<br>| Mysql (done)<br>| MongoDB<br>| redis<br>| RESTful 架构<br>| </p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><pre><code>优点:
    前端的局限性，可以对文件、进程、数据库等进操作，是一门纯后端
    处理高并发  程序异步执行不会阻塞

缺点: nodejs是单线程

1、nodeJS安装，mac或windows系统需要到官网下载安装包，自带npm包管理器

2、安装express框架：npm install -g express

        $ express       // 执行命令

3、更新node版本

    node需要下载一个n模块，是用来专门管理nodejs的版本

    1、npm install -g n             # 安装n模块

    2、n stable                    # 升级到稳定版，也可以指定版本号 n v0.10.26


4、其它命令

    npm -v                  # 显示版本，检查npm 是否正确安装。

    npm install express      # 安装express模块

    npm install -g express  # 全局安装express模块

    npm list                 # 列出已安装模块

    npm show express         # 显示模块详情

    npm update                # 升级当前目录下的项目的所有模块

    npm update express        # 升级当前目录下的项目的指定模块

    npm update -g express      # 升级全局安装的express模块

    npm uninstall express      # 删除指定的模块
</code></pre><h4 id="NPM与包"><a href="#NPM与包" class="headerlink" title="NPM与包"></a>NPM与包</h4><pre><code>NodeJS以CommonJS的包规范来制订，由包结构和包描述文件两部分组件

1、包结构

    npm 下载完包存储到 node_modules 目录中，包含:

    1）package.json: 包描述

    2）bin: 存放可执行的二进制文件

    3）lib: 存储javascript代码目录

    4）doc: 用于存放文档的目录

    5）test: 存放单元测试用例代码
</code></pre><h4 id="NodeJS"><a href="#NodeJS" class="headerlink" title="NodeJS"></a>NodeJS</h4><pre><code>Node采用了Google的V8引擎，作为javascript语言的解释器，Node是基于事件驱动和异步I/O的服务器环境

1、JS与node的区别

    1）JS中顶层对象是 window，nodeJS中的顶层对象是 global

    2）JS中 var a = 10; window.a; 可以访问到，但在node中global.a是访问不到的，因为node有模块的概念

        node中一个文件就是珍上模块，每个模块有自己的作用域

2、REPL环境

    在命令行输入node, 可以直接运行node命令
</code></pre><h4 id="模块系统-require、exports"><a href="#模块系统-require、exports" class="headerlink" title="模块系统 require、exports"></a>模块系统 require、exports</h4><pre><code>1、模块分为

    模块加载：require(&apos;2.js&apos;);

    1）内置模块:  var fs = require(&apos;fs&apos;);        // 加载Node的内置模块 fs文件系统

    2）文件模块: 自己定义的业务模块

        定义一个food.common.js

        var food = reuqire(&apos;./js/food.common&apos;);        // 加载业务模块

    3）加载第三方模块

        require(&apos;./2&apos;);        // 先按照加载的模块文件进行查找，如果没有找到会在文件名加上.js


2、绝对和相对路径

    var fs = require(&apos;fs&apos;);        // 绝对路径，是在Node通过内部的node_modules查找到的模块

    var moduleA = reuqire(&apos;./lib/moduleA&apos;);        // 相对路径


2、npm 全局安装和局部安装

    1）全局安装会安装到Node目录中，各项目都可以使用 npm install -g gulp

    2）局部安装，将一个模块安装到node_modules中，只在当前和子目录中使用


3、模块化

    module和exports两个全局变量

    1）module：每个模块下都包括module对象

        Module {
            id: &apos;.&apos;,
            exports: {},
            parent: null,
            filename: &apos;/Users/apple/siguang.liu/nodeProject/server.js&apos;,
            loaded: false,
            children: [],
            paths: [
                &apos;/Users/apple/siguang.liu/nodeProject/node_modules&apos;,
                &apos;/Users/apple/siguang.liu/node_modules&apos;,
                &apos;/Users/apple/node_modules&apos;,
                &apos;/Users/node_modules&apos;,
                &apos;/node_modules&apos;
            ]
         }

     2）exports外部接口，通过require就可以调用这个接口

         其实exports就是module.exports的引用

        exports.name = &apos;siguang&apos;;
        exports.getPrivate = function(){
            return &apos;haha&apos;;
        }
</code></pre><h4 id="事件-EventEmitter"><a href="#事件-EventEmitter" class="headerlink" title="事件 EventEmitter"></a>事件 EventEmitter</h4><pre><code>var EventEmitter = require(&apos;events&apos;).EventEmitter,
    a = new EventEmitter;

a.on(&apos;event&apos;, function(){
    console.log(&apos;event called&apos;);
})
a.emit(&apos;event&apos;);
</code></pre><p>—————————- Node API 文档 —————————-</p>
<h4 id="process-进程对象"><a href="#process-进程对象" class="headerlink" title="process 进程对象"></a>process 进程对象</h4><pre><code>1、pid：进程id，也就是进程名

2、kill(pid)：杀掉进程

3、nextTick(callback): 会在第一次事件环中最末尾执行，setTimeout和setImmediate属于第二事件环

    console.log(&apos;开始&apos;);

    setImmediate(function(){
        console.log(&apos;setImmediate&apos;)
    });

    setTimeout(function(){
        console.log(&apos;setTimeout&apos;);
    }, 0);

    process.nextTick(function(){
        console.log(&apos;nextTick&apos;);
    })

    console.log(&apos;结束&apos;);


    output:

        ---------------  第一次 ----------------
        开始
        结束
        nextTick

        ---------------  第二次 ----------------
        setTimeout
        setImmediate
</code></pre><h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><pre><code>传输控制协议TCP是一个面向连接的协议，保证两台计算机之间数据传输的可靠性和顺序

它可以将数据从一台计算机完整有序的传到另一台计算机，http模块就是继承了net（TCP）模块

var net = require(&apos;net&apos;);        // 引用TCP模块

telnet系统嵌套的客户端，端口23, 用来连接服务器

退出TCP连接 alt+[, 退出telnet quit命令
</code></pre><h4 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h4><pre><code>基于HTTP服务器的工具, 提供新的组织代码的方式来与请求响应对象进行交互，称为中间件

引用模块 var connect = require(&apos;connect&apos;);

connect作用: 

    1、托管静态文件

    2、处理错误及不存在的url

    3、处理不同类型的请求
</code></pre><h4 id="utils-工具"><a href="#utils-工具" class="headerlink" title="utils 工具"></a>utils 工具</h4><pre><code>var utils = reuqire(&apos;utils&apos;);
</code></pre><h4 id="Events-事件"><a href="#Events-事件" class="headerlink" title="Events 事件"></a>Events 事件</h4><pre><code>EventEmitter 类

var EventEmitter = require(&apos;events&apos;);
var emitter = new EventEmitter();

1、addListener(event, listener): 创建事件，客户端通过事件来调用，而服务端通过代码来调用事件侦听

       on(event, listener):

       //  addListener 事件
    var EventEmitter = require(&apos;events&apos;).EventEmitter;
    var emitter = new EventEmitter();

    emitter.addListener(&apos;some_events&apos;, function(foo, bar){
        console.log(foo, bar);
    })

    emitter.emit(&apos;some_events&apos;, &apos;helloA&apos;, &apos;world&apos;);         // helloA world
    emitter.emit(&apos;some_events&apos;, &apos;helloB&apos;, &apos;world&apos;);         // helloB world


    // on 可以
    emitter.on(&apos;message&apos;, function(mes, name, age){
        console.log(mes +&quot; name:&quot;+ name +&quot; age:&quot;+ age);
    })

    emitter.emit(&apos;message&apos;, &apos;消息1&apos;, &apos;siguang&apos;, &apos;32&apos;);       // 消息1 name:siguang age:32
    emitter.emit(&apos;message&apos;, &apos;消息2&apos;, &apos;lulu&apos;, &apos;30&apos;);          // 消息2 name:lulu age:30


2、once()：只执行一次

    emitter.once(&apos;onceEvent&apos;, function(age){
        console.log(age);
    })

    emitter.emit(&apos;onceEvent&apos;, &apos;1&apos;);        // 只执行此次事件
    emitter.emit(&apos;onceEvent&apos;, &apos;2&apos;);
    emitter.emit(&apos;onceEvent&apos;, &apos;3&apos;);


3、removeListener(): 删除listener

4、removeAllListeners(): 删除所有

5、setMaxListeners(num): 正常事件的个数为10个, 如果超出通过此方法来改变限制的个数

6、setMaxListeners(): 每个emitter实例的最大监听数

7、listeners(event): 返回指琮事件的数组

8、emit(事件名, 参数): 执行事件

9、listenerCount(emitter, event): 返回事件个数
</code></pre><h4 id="cookie-和-Session"><a href="#cookie-和-Session" class="headerlink" title="cookie 和 Session"></a>cookie 和 Session</h4><pre><code>https://cnodejs.org/topic/55f8d70a20d84f3d377582a3

1、cookie和session的区别

    cookie存放在客户端 session存放到服务器上

    cookie不安全，客户端可以修改, session不会被修改

    session会保存在一定时间内保存在服务器端, 当访问增多, 会影响性能


2、cookie

    存储到客户端的信息

3、session

    # npm install express-session --save       // 安装

    session原理

        1）服务器端有一个对象专门存session的对象或库 如sessions={};

        2）通过req.session.sign来检查是否为已登录状态

        3）如果没有登录，第一次访问会生成一个sid，Date.now()+Math.random(); 将sid存储到sessions中

        4）把这个sid发送到浏览器端, 通过请求头中会有一个set-cookie, 将session中存到cookie中

            set-cookie:connect.sid=s%3AjDb0ns6Ekas3I7ll3tm9Bxg_wd4WjBJY.wL8VyIWdHQNFWt%2ByE%2BjAV30r4M7ZQdVIXgeKBOzx5iY; Path=/; Expires=Fri, 25 Nov 2016 03:27:38 GMT; HttpOnly

            HttpOnly 不能读不能写


    session(options): 选项内容

        1）name: session名称，设置cookie中，默认为connect.sid

        2）stroe: session存储方式，默认存在内存中，也可以存储到redis、mongodb

        3）secret: 通过设置secret字符串，来计算hash值并放在cookie产生的signedCookie防篡改

        4) cookie: 存放session id 的cookie

        5) genid: 产生一个新的session_id时，所使用的函数，默认使用uid2这个npm包

        6）rolling: 每个请求都重新设置一个cookie

        7）resave: 即使session没有被修改也保存session值

        8）saveUnintialized: 保存新创建但未修改的session


    示例:

        router.get(&apos;/&apos;, function (req, res) {

            if (req.session.sign) { // 检查用户是否已经登录
                console.log(req.session);//打印session的值
                res.send(&apos;welecome &lt;strong&gt;&apos; + req.session.name + &apos;&lt;/strong&gt;, 欢迎你再次登录&apos;);
            }
            else {      // 否则展示index页面
                req.session.sign = true;
                req.session.name = &apos;haha&apos;;
                res.end(&apos;欢迎登陆！&apos;);
            }

        });
</code></pre><h4 id="webSocket"><a href="#webSocket" class="headerlink" title="webSocket"></a>webSocket</h4><pre><code>轮循: 隔多长时间ajax发一次请求, 不间隔的去发

长轮循: 隔多长时间ajax发一次请求，接到结果后在发出下一次请求


webScoket: 长连接，浏览器和服务器只需要一次握手，浏览器就和服务器形成一个快速通道，两者之间相互传送数据

    1、节省资源: Header只有2 Bytes，1字节8位   1kb = 1024 bytes

    2、推送消息: 不需要客户端发请求


1、安装

    # npm install ws

2、socket.io库

    Socket.IO是websocket库，包括客户端的js和服务器端的nodejs，目标是构建可以在不同浏览器和移动设备上使用实时应用.

    # npm install socket.io


    https://www.zhihu.com/question/20831000         // scoketIO最大连接数和并发数
</code></pre><h4 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h4><pre><code>1、同步方法 try catch

2、异步 判断回调函数error对象

3、流里判断错误，监听error事件

    rs.on(&apos;error&apos;, function(error){
        console.log(error);
    })
</code></pre><h4 id="http协议"><a href="#http协议" class="headerlink" title="http协议"></a>http协议</h4><pre><code>content-type 的一些参数值: http://blog.csdn.net/blueheart20/article/details/45174399

request请求头: 客户端请求服务器的请求头

    1、host: 主机地址

    2、connection: 客户端与服务器的连接选项

    3、accept: 服务器处理内容的优先级, q是权重 0-1之间范围

    4、user-agent: 用户代理，发送浏览器的硬件、系统等信息, 可以通过些选择来收集用户的pc端还是moblie端访问的多少

    5、accept-encoding: 告诉服务器所支持的编码

    6、accept-language: 告诉服务器所使用的语言, 用于判断中文站还是英文站


response响应: 服务器向客户端响应

    1、statusCode: 状态码

    2、resonPhrase: 状态码描述

    3、headers: 响应头信息

        1) content-Type: 内容类型

        2) location: 重定向url

        3) content-disposition: 下载文件名

        4) content-length: 响应内容的字节数

        5) set-cookie: 写入客户端cookie

        6) content-encoding: 响应内容编码

        7) cache-Control: 缓存

        8) Expires: 指定缓存过期时间

        9) Etag: 服务器响应内容没有变化重新下载数据

        10) connection: 默认keep-alive 保持连接，断开使用close
</code></pre><blockquote>
<p>参考资料</p>
<p><a href="https://thinkjs.org/" target="_blank" rel="noopener">https://thinkjs.org/</a><br><a href="https://chyingp.gitbooks.io/nodejs/content/%E8%BF%9B%E9%98%B6/%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%88%90datauri.html" target="_blank" rel="noopener">https://chyingp.gitbooks.io/nodejs/content/%E8%BF%9B%E9%98%B6/%E5%9B%BE%E7%89%87%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%88%90datauri.html</a>    ***<br><a href="http://nodeapi.ucdok.com/api/" target="_blank" rel="noopener">http://nodeapi.ucdok.com/api/</a>                    // API中文文档<br><a href="https://github.com/wangxueliang/node-api/blob/master/doc/fs.md" target="_blank" rel="noopener">https://github.com/wangxueliang/node-api/blob/master/doc/fs.md</a>   API中文部分<br><a href="https://nodejs.xiangfa.org/documentation/" target="_blank" rel="noopener">https://nodejs.xiangfa.org/documentation/</a>        // API中文文档<br><a href="https://cnodejs.org/getstart" target="_blank" rel="noopener">https://cnodejs.org/getstart</a>                     // node入门<br><a href="http://nqdeng.github.io/7-days-nodejs/" target="_blank" rel="noopener">http://nqdeng.github.io/7-days-nodejs/</a><br><a href="http://cnodejs.org/topic/581b0c4ebb9452c9052e7acb" target="_blank" rel="noopener">http://cnodejs.org/topic/581b0c4ebb9452c9052e7acb</a><br><a href="http://nqdeng.github.io/7-days-nodejs/" target="_blank" rel="noopener">http://nqdeng.github.io/7-days-nodejs/</a>        // 7天会Node<br><a href="https://www.gitbook.com/@chyingp" target="_blank" rel="noopener">https://www.gitbook.com/@chyingp</a><br><a href="http://cnodejs.org/topic/581b0c4ebb9452c9052e7acb" target="_blank" rel="noopener">http://cnodejs.org/topic/581b0c4ebb9452c9052e7acb</a><br><a href="https://cnodejs.org/topic/56ef3edd532839c33a99d00e" target="_blank" rel="noopener">https://cnodejs.org/topic/56ef3edd532839c33a99d00e</a><br><a href="https://github.com/leizongmin/node123" target="_blank" rel="noopener">https://github.com/leizongmin/node123</a>        // 资料导航</p>
<p>Express框架</p>
<p><a href="http://www.expressjs.com.cn/starter/hello-world.html" target="_blank" rel="noopener">http://www.expressjs.com.cn/starter/hello-world.html</a><br><a href="https://github.com/expressjs?page=2" target="_blank" rel="noopener">https://github.com/expressjs?page=2</a>        express下的插件<br><a href="https://github.com/nodejs" target="_blank" rel="noopener">https://github.com/nodejs</a>     nodeJS插件</p>
</blockquote>
<p>插件:</p>
<p><a href="http://node.zhufengpeixun.cn/" target="_blank" rel="noopener">http://node.zhufengpeixun.cn/</a><br><a href="https://github.com/node-modules?page=1" target="_blank" rel="noopener">https://github.com/node-modules?page=1</a></p>
<p><a href="https://github.com/keepfool/node-lessons" target="_blank" rel="noopener">https://github.com/keepfool/node-lessons</a></p>
<p>1、cookie: <a href="https://github.com/expressjs/cookie-parser" target="_blank" rel="noopener">https://github.com/expressjs/cookie-parser</a>    // cookie-parser  </p>
<pre><code>http://www.cnblogs.com/coolicer/p/4191548.html
</code></pre><p>2、express-session: session的处理</p>
<p>3、cookie、sesssion加密的包 cookie-signature:    <a href="https://github.com/visionmedia/node-cookie-signature" target="_blank" rel="noopener">https://github.com/visionmedia/node-cookie-signature</a></p>
<pre><code>https://segmentfault.com/q/1010000000392851
</code></pre><p>4、token: express-jwt         <a href="https://www.npmjs.com/package/express-jwt" target="_blank" rel="noopener">https://www.npmjs.com/package/express-jwt</a></p>
<pre><code>http://ninghao.net/blog/2834
</code></pre><p>5、socket.io:  npm install socket.io             <a href="https://github.com/socketio/socket.io" target="_blank" rel="noopener">https://github.com/socketio/socket.io</a></p>
<p>2、mysql: <a href="https://www.npmjs.com/package/mysql" target="_blank" rel="noopener">https://www.npmjs.com/package/mysql</a>         // 连接和处理mysql</p>
<p>3、ws安装socket/IO服务包: npm install ws</p>
<p>4、mime:  <a href="https://github.com/broofa/node-mime" target="_blank" rel="noopener">https://github.com/broofa/node-mime</a>        // 响应css、js文件的请求</p>
<pre><code>http://blog.csdn.net/zgljl2012/article/details/44700953
</code></pre><p>5、body-parser: <a href="https://github.com/expressjs/body-parser" target="_blank" rel="noopener">https://github.com/expressjs/body-parser</a>  // json  </p>
<pre><code>https://segmentfault.com/a/1190000003061925
</code></pre><p>6、superagent: <a href="http://visionmedia.github.io/superagent/" target="_blank" rel="noopener">http://visionmedia.github.io/superagent/</a></p>
<pre><code>http://www.codesec.net/view/183926.html
</code></pre><p>7、node-images:  <a href="https://github.com/zhangyuanwei/node-images" target="_blank" rel="noopener">https://github.com/zhangyuanwei/node-images</a>     // 图片转换</p>
<p>8、node-xlsx: <a href="https://github.com/mgcrea/node-xlsx" target="_blank" rel="noopener">https://github.com/mgcrea/node-xlsx</a>      // 处理xlsx文件</p>
<p>9、multer: <a href="https://github.com/expressjs/multer/blob/master/doc/README-zh-cn.md" target="_blank" rel="noopener">https://github.com/expressjs/multer/blob/master/doc/README-zh-cn.md</a>    // 处理文件上传</p>
<pre><code>req.body存储表单内容

req.file存储上传控制的内容

multer({dest: &apos;./public/upfile&apos;});    设置图片文件存储的路径

upload.single(&apos;sendUpfile&apos;);        // 上传单个文件 file的name=&quot;sendUpfile&quot;
</code></pre><p>11、multiparty 文件上传: <a href="https://github.com/expressjs/node-multiparty" target="_blank" rel="noopener">https://github.com/expressjs/node-multiparty</a></p>
<p>10、formidable: <a href="https://cnodejs.org/topic/4f5c62932373009b5c0b027b" target="_blank" rel="noopener">https://cnodejs.org/topic/4f5c62932373009b5c0b027b</a> // 文件上传</p>
<p>11、up工具用于重启服务器, 每次代码修改不需要重启服务器，通过up来完成</p>
<pre><code>安装 sudo npm install up -g

运行 到项目目录 up -watch -port 8080 server.js
</code></pre><p>模板:</p>
<p>1、handlebars  <a href="http://www.cnblogs.com/iyangyuan/archive/2013/12/12/3471227.html" target="_blank" rel="noopener">http://www.cnblogs.com/iyangyuan/archive/2013/12/12/3471227.html</a></p>
<pre><code>http://www.ghostchina.com/introducing-the-handlebars-js-templating-engine/
hbs:  http://www.cnblogs.com/chyingp/p/hbs-getting-started.html
</code></pre><p>1、Jade</p>
<p>2、ejs</p>
<p>3、Haml</p>
<p>4、CoffeeKup</p>
<p>MD5 JS <a href="https://github.com/blueimp/JavaScript-MD5" target="_blank" rel="noopener">https://github.com/blueimp/JavaScript-MD5</a></p>
<p>HTML5  new FormData()   <a href="http://www.cnblogs.com/lhb25/p/html5-formdata-tutorials.html" target="_blank" rel="noopener">http://www.cnblogs.com/lhb25/p/html5-formdata-tutorials.html</a></p>

        
    </section>
</article>



<div class="comments">
    <div id="disqus_thread">
        <p class="comment-tips">国内查看评论需要代理~</p>
    </div>
    <script>
    window.disqus_config = function () {
        this.language = 'zh';
        this.page.url = 'http://siguang1983.github.io/2017/01/10/nodeJS基础用法/';
        this.page.title = 'nodeJS基础';
        this.page.identifier = '2017/01/10/nodeJS基础用法/';
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://name.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</div>
        <footer class="footer">
    Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>
</footer>

<script type="text/javascript" src="//s13.cnzz.com/z_stat.php?id=1234567890&amp;web_id=1234567890"></script>


    </div>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.9.0/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/scrollspy.min.js"></script>
    
    <script type="text/javascript">
        $(function() {
            var nodes = {
                nav: $('#nav'),
                aside: $('#aside'),
                navTags: $('#nav-tags')
            };

            $('#open-panel, #aside-mask').on('click', function() {
                nodes.aside.toggleClass('panel-show');
            });
            $('#nav-tag').on('click', function(event) {
                event.preventDefault();console.log(nodes.navTags.attr('class'))
                nodes.navTags.toggleClass('tag-show');console.log(nodes.navTags.attr('class'))
            })/*.hover(function() {
                nodes.navTags.addClass('tag-show');
            }, function() {
                nodes.navTags.removeClass('tag-show');
            });*/

            
            $(document.body).scrollspy({target: '#aside-inner'});
            
        });
    </script>

</body>
</html>
