<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>移动端的那些积累 | 大排档</title>
    <meta name="author" content="siguang(厨子)" />
    <meta name="version" content="1.0.0" />
    <meta name="keywords" content="" />
    <meta name="description" content="移动端特性手机端的web页(H5)

跨平台（手机端、PC端）

基于webview
-webkit- 常用属性http://ued.ctrip.com/webkitcss/   整理的webkit属性集合

&amp;lt;meta name=&amp;quot;viewport&amp;quot; content=&amp;quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalabel=no&amp;quot;&amp;gt;

1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="baidu-site-verification" content="F0CXvmUgA9" />

    
    
    <link rel="icon" href="/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <button id="open-panel" class="open-panel"><i class="icon-library"></i></button>

    <nav class="nav-inner">

        
        
        <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
        </li>
        
        
        
        <li class="nav-item nav-item-tag">
            <a id="nav-tag" class="nav-link" href="#">标签</a>
            <div id="nav-tags" class="nav-tag-wrap">
                <i class="nav-tag-arrow"></i>
                
  <div class="widget-wrap">
    <h3 class="widget-title">
        <i class="icon-tag vm"></i>
        <span class="vm">Mot-clés</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6/">ES6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Egg-js/">Egg.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML-CSS/">HTML/CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP详解/">HTTP详解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Less/">Less</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mongoose/">Mongoose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sass/">Sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mock数据/">mock数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数式编程/">函数式编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端优化/">前端优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端插件/">前端插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端插件类/">前端插件类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端构建工具/">前端构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务端开发/">服务端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板引擎/">模板引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器内核/">浏览器内核</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端积累/">移动端积累</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/经济学/">经济学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/金融/">金融</a></li></ul>
    </div>
  </div>


            </div>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/archives">归档</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/atom.xml">订阅</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/about">关于</a>
        </li>
        
        
        

    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://siguang1983.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#移动端特性"><span class="toc-number">1.</span> <span class="toc-text">移动端特性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#webkit-常用属性"><span class="toc-number">2.</span> <span class="toc-text">-webkit- 常用属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#viewport-视图"><span class="toc-number">3.</span> <span class="toc-text">viewport 视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#不同屏幕的适配方案"><span class="toc-number">4.</span> <span class="toc-text">不同屏幕的适配方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#移动端概念"><span class="toc-number">5.</span> <span class="toc-text">移动端概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Meta"><span class="toc-number">6.</span> <span class="toc-text">Meta</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#预加载技术"><span class="toc-number">7.</span> <span class="toc-text">预加载技术</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#打电话发短信写邮件怎么实现"><span class="toc-number">8.</span> <span class="toc-text">打电话发短信写邮件怎么实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS样式"><span class="toc-number">9.</span> <span class="toc-text">CSS样式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#播放视频不全屏"><span class="toc-number">10.</span> <span class="toc-text">播放视频不全屏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bug修改"><span class="toc-number">11.</span> <span class="toc-text">bug修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#移动端touch事件（区分webkit和winphone）"><span class="toc-number">12.</span> <span class="toc-text">移动端touch事件（区分webkit和winphone）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#屏幕旋转的事件orientationchange"><span class="toc-number">13.</span> <span class="toc-text">屏幕旋转的事件orientationchange</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#audio元素和video元素在ios和andriod中无法自动播放"><span class="toc-number">14.</span> <span class="toc-text">audio元素和video元素在ios和andriod中无法自动播放</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#重力感应事件"><span class="toc-number">15.</span> <span class="toc-text">重力感应事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设备判断"><span class="toc-number">16.</span> <span class="toc-text">设备判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#前端动画的几种方式"><span class="toc-number">17.</span> <span class="toc-text">前端动画的几种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#其它API"><span class="toc-number">18.</span> <span class="toc-text">其它API</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fetch-新一代ajax"><span class="toc-number">19.</span> <span class="toc-text">fetch 新一代ajax</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#问题收集"><span class="toc-number">20.</span> <span class="toc-text">问题收集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#收集工具"><span class="toc-number">21.</span> <span class="toc-text">收集工具</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content"><article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            移动端的那些积累
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="/2016/12/22/移动端的那些积累/">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2016-12-22T02:10:21.000Z" itemprop="datePublished">2016-12-22</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/移动端积累/">移动端积累</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <h4 id="移动端特性"><a href="#移动端特性" class="headerlink" title="移动端特性"></a>移动端特性</h4><pre><code>手机端的web页(H5)

跨平台（手机端、PC端）

基于webview
</code></pre><h4 id="webkit-常用属性"><a href="#webkit-常用属性" class="headerlink" title="-webkit- 常用属性"></a>-webkit- 常用属性</h4><pre><code>http://ued.ctrip.com/webkitcss/   整理的webkit属性集合

&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalabel=no&quot;&gt;

1、-webkit-appearance: none;     // 用于移IOS下移除原生样式

2、text-size-adjust: 100%;       // webkit内核浏览器可以让终端字体小于12px

    iPhone 和 Android 的浏览器纵向和橫向时自动调整字体大小的功能。通过 text-size-adjust 设为 none 或者 100% 关闭字体大小自动调整功能.
    html {
        font-family: &quot;Helvetica Neue&quot;, Helvetica, STHeiTi, Arial, sans-serif;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%; 
    }

3、overflow-scrolling  硬件加速, 在body中设置

    body {
        /*height: 100%;*/
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch; 
    }

4、tap-highlight-color  用户点击iOS的Safari浏览器中的链接或JavaScript的可点击的元素时，覆盖显示的高亮颜色

    a {
        -webkit-tap-highlight-color: transparent;
    }

5、touch-callout  当触摸并长按住的时候，禁止或显示系统默认菜单

    a {
        -webkit-touch-callout: none
    }

    window.ontouchstart = function(e) {
        if (e.target.tagName === &apos;img&apos;)
                    e.preventDefault();
    }

6、pointer-events:none;
</code></pre><h4 id="viewport-视图"><a href="#viewport-视图" class="headerlink" title="viewport 视图"></a>viewport 视图</h4><pre><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no&quot; /&gt;

width - 设置viewport宽度，为一个正整数，或字符串‘device-width’

height - 设置viewport高度，一般设置了宽度，会自动解析出高度，可以不用设置

initial-scale - 默认缩放比例，为一个数字，可以带小数

minimum-scale - 允许用户最小缩放比例，为一个数字，可以带小数

maximum-scale - 允许用户最大缩放比例，为一个数字，可以带小数

user-scalable - 是否允许手动缩放
</code></pre><h4 id="不同屏幕的适配方案"><a href="#不同屏幕的适配方案" class="headerlink" title="不同屏幕的适配方案"></a>不同屏幕的适配方案</h4><pre><code>通过响应式技术，在不同设备上使用同一套代码来展示

1、设置@media      2、rem       3、vw/vh

一、@media 媒体查询 

    @media screen and(min-width: 500px){    // 大于500px执行下面代码
            ...
    }

二、rem

    rem会根据根元素&lt;html&gt;的fontSize的大小来变化，需要运用js来计算根据屏幕宽度或来计算html的赋值

    1、普通CSS写法

        html { font-size: 16px; }
        div { width: 2rem; }

    2、Sass的工程: 

        前端构建中，完全可以利用scss来解决这个问题，例如我们可以写一个scss的function px2rem即: 
        @function px2rem($px){
            $rem : 37.5px;
            @return ($px/$rem) + rem;
        }

        调用
        height: px2rem(90px);
        width: px2rem(90px);

三、vw、vh

    上面两种不是特别完美，媒体查询不能做到等比例响应，rem需要js与css耦合在一起，而且vw/vh就不需要

    计算vm方法: 16 / 750 * 100 = 2.13vw;        // 16是px转rem的值，750

        html {
            font-size: 2.13vw;
        }

    vw: 视窗的宽度，视窗的宽度是100vw

    vh: 视窗的高度，视窗的高度是100vh

    vmin: 选取vw和vh中最小的那个

    vmax: 选取vw和vh中最大的那个

https://zhuanlan.zhihu.com/p/23968868
https://juejin.im/entry/59b00e46f265da2491513bcc
</code></pre><h4 id="移动端概念"><a href="#移动端概念" class="headerlink" title="移动端概念"></a>移动端概念</h4><pre><code>一、物理像素: 物理像素是屏幕的实际尺寸

二、设备独立像素: 设备像素与CSS像素之间的关系

三、设备像素比 dpr: 设备像素比 = 物理像素 / 设备独立像素;

    js获取设备像素比: window.devicePixelRatio        // devicePixelRatio = 物理像素 / 实际像素;

    iphoneX是3倍屏，其它都是2倍屏

    retina屏是超高像素密度屏，同样大小的屏幕上显示的像素点由1个变为多个，同样苹果设备的retina屏中，像素点1个变为4个

    1、根据不同的设备像素比来加载不同的图片

        // 例如图片宽高为: 200px*200px，那么写法如下
        .css{ width:100px;height:100px;background-size:100px 100px; }

        // 其它元素的取值为原来的1/2，例如视觉稿40px的字体，使用样式的写法为20px
        .css{ font-size:20px }

        // image-set设计Rentina背景图
        image-set,webkit私有属性，也是CSS4的属性，为解决Rentina屏幕下的图像而生。
        .css {
            background: url(images/bg.jpg) no-repeat center;
            background: -webkit-image-set(
            url(images/bg.jpg) 1x,     //支持image-set普通屏
            url(images/bg-2x.jpg) 2x); //支持image-set的Rentinan
        }

        // javscript的解决方案
        $(document).ready(function(){
            if (window.devicePixelRatio &gt; 1) {
                var lowresImages = $(&apos;img&apos;);

                images.each(function(i) {
                    var lowres = $(this).attr(&apos;src&apos;);
                    var highres = lowres.replace(&quot;.&quot;, &quot;@2x.&quot;);
                    $(this).attr(&apos;src&apos;, highres);
                });
            }
        });

    https://www.jianshu.com/p/c88e9489b583

四、设置不同像素比的响应样式

    /* 2倍屏 */
    @media only screen and (-webkit-min-device-pixel-ratio: 2.0){
        .bor-querymidea::after{
            -webkit-transform: scaleY(0.5);
            transform: scaleY(0.5);
        }
    }

    /* 3倍屏 */
    @media only screen and (-webkit-min-device-pixel-ratio: 3.0){
        .bor-querymidea::after{
            -webkit-transform: scaleY(0.33);
            transform: scaleY(0.33);
        }
    }
</code></pre><h4 id="Meta"><a href="#Meta" class="headerlink" title="Meta"></a>Meta</h4><pre><code>1、空白页基本meta标签

    &lt;!-- 设置缩放 --&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, user-scalable=no, minimal-ui&quot; /&gt;

    &lt;!-- 可隐藏地址栏，仅针对IOS的Safari（注: IOS7.0版本以后，safari上已看不到效果） --&gt;
    &lt;meta name=&quot;apple-mobile-web-app-capable&quot; content=&quot;yes&quot; /&gt;

    &lt;!-- 仅针对IOS的Safari顶端状态条的样式（可选default/black/black-translucent ） --&gt;
    &lt;meta name=&quot;apple-mobile-web-app-status-bar-style&quot; content=&quot;black&quot; /&gt;

    &lt;!-- IOS中禁用将数字识别为电话号码/忽略Android平台中对邮箱地址的识别 --&gt;
    &lt;meta name=&quot;format-detection&quot;content=&quot;telephone=no, email=no&quot; /&gt;


2、其他meta标签

    &lt;!-- 启用360浏览器的极速模式(webkit) --&gt;
    &lt;meta name=&quot;renderer&quot; content=&quot;webkit&quot;&gt;

    &lt;!-- 避免IE使用兼容模式 --&gt;
    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;

    &lt;!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 --&gt;
    &lt;meta name=&quot;HandheldFriendly&quot; content=&quot;true&quot;&gt;

    &lt;!-- 微软的老式浏览器 --&gt;
    &lt;meta name=&quot;MobileOptimized&quot; content=&quot;320&quot;&gt;

    &lt;!-- uc强制竖屏 --&gt;
    &lt;meta name=&quot;screen-orientation&quot; content=&quot;portrait&quot;&gt;

    &lt;!-- QQ强制竖屏 --&gt;
    &lt;meta name=&quot;x5-orientation&quot; content=&quot;portrait&quot;&gt;

    &lt;!-- UC强制全屏 --&gt;
    &lt;meta name=&quot;full-screen&quot; content=&quot;yes&quot;&gt;

    &lt;!-- QQ强制全屏 --&gt;
    &lt;meta name=&quot;x5-fullscreen&quot; content=&quot;true&quot;&gt;

    &lt;!-- UC应用模式 --&gt;
    &lt;meta name=&quot;browsermode&quot; content=&quot;application&quot;&gt;

    &lt;!-- QQ应用模式 --&gt;
    &lt;meta name=&quot;x5-page-mode&quot; content=&quot;app&quot;&gt;

    &lt;!-- windows phone 点击无高光 --&gt;
    &lt;meta name=&quot;msapplication-tap-highlight&quot; content=&quot;no&quot;&gt;
</code></pre><h4 id="预加载技术"><a href="#预加载技术" class="headerlink" title="预加载技术"></a>预加载技术</h4><pre><code>一、dns-prefetch 预加载

    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;http://g.alicdn.com&quot;&gt;

    dns-prefetch, DNS解析往往导致了网站加载速度慢。现代浏览器针对这个问题开发了处理方式，它将域名缓存后，当用户点击其它页面地址后自动的获取


二、prefetch 连接网页预先加载

    当能确定网页在未来一定会使用到某个资源时，开发者可以让浏览器提前请求并且缓存好以供后续使用。prefetch支持预拉取图片、脚本或者任何可以被浏览器缓存的资源。

    &lt;link rel=&quot;prefetch&quot; href=&quot;image.png&quot;&gt;

三、preconnect 

    和DNS prefetch类似，preconnect不光会解析DNS，还会建立TCP握手连接和TLS协议（如果需要）

    &lt;link rel=&quot;preconnect&quot; href=&quot;http://css-tricks.com&quot;&gt;


http://www.alloyteam.com/2015/10/prefetching-preloading-prebrowsing/
</code></pre><h4 id="打电话发短信写邮件怎么实现"><a href="#打电话发短信写邮件怎么实现" class="headerlink" title="打电话发短信写邮件怎么实现"></a>打电话发短信写邮件怎么实现</h4><pre><code>一、打电话

    &lt;a href=&quot;tel:0755-10086&quot;&gt;打电话给:0755-10086&lt;/a&gt;

二、发短信，winphone系统无效

    &lt;a href=&quot;sms:10086&quot;&gt;发短信给: 10086&lt;/a&gt;

三、写邮件

    // 注: 在添加这些功能时，第一个功能以&quot;?&quot;开头，后面的以&quot;&amp;&quot;开头

    1.普通邮件
    &lt;a href=&quot;mailto:863139978@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;

    2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）
    &lt;a href=&quot;mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&quot;&gt;点击我发邮件&lt;/a&gt;

    3.跟着抄送地址后，写上&amp;bcc=,可添加密件抄送地址（Android存在兼容问题）
    &lt;a href=&quot;mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=384900096@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;

    4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址
    &lt;a href=&quot;mailto:863139978@qq.com;384900096@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;

    5.包含主题，用?subject=
    &lt;a href=&quot;mailto:863139978@qq.com?subject=邮件主题&quot;&gt;点击我发邮件&lt;/a&gt;

    6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行 
    &lt;a href=&quot;mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来&quot;&gt;点击我发邮件&lt;/a&gt;

    7.内容包含链接，含http(s)://等的文本自动转化为链接
    &lt;a href=&quot;mailto:863139978@qq.com?body=http://www.baidu.com&quot;&gt;点击我发邮件&lt;/a&gt;

    8.内容包含图片（PC不支持）
    &lt;a href=&quot;mailto:863139978@qq.com?body=&lt;img src=&apos;images/1.jpg&apos; /&gt;&quot;&gt;点击我发邮件&lt;/a&gt;

    9.完整示例
    &lt;a href=&quot;mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=993233461@qq.com&amp;subject=[邮件主题]&amp;body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A&lt;img src=&apos;images/1.jpg&apos; /&gt;&quot;&gt;点击我发邮件&lt;/a&gt;
</code></pre><h4 id="CSS样式"><a href="#CSS样式" class="headerlink" title="CSS样式"></a>CSS样式</h4><pre><code>一、美化表单元素

    // 使用appearance改变webkit浏览器的默认外观
    input,select { -webkit-appearance:none; appearance: none; }

    // winphone下，使用伪元素改变表单元素默认外观
    1、禁用select默认箭头，::-ms-expand修改表单控件下拉箭头，设置隐藏并使用背景图片来修饰
            select::-ms-expand { display:none; }

    2、禁用radio和checkbox默认样式，::-ms-check修改表单复选框或单选框默认图标，设置隐藏并使用背景图片来修饰
            input[type=radio]::-ms-check,
            input[type=checkbox]::-ms-check { display:none; }

    3、禁用pc端表单输入框默认清除按钮，::-ms-clear修改清除按钮，设置隐藏并使用背景图片来修饰
            input[type=text]::-ms-clear,
            input[type=tel]::-ms-clear,
            input[type=number]::-ms-clear { display:none; }


二、其它实用的css

    1、去掉webkit的滚动条——display: none;
            // 其他参数
            ::-webkit-scrollba //滚动条整体部分
            ::-webkit-scrollbar-thumb   //滚动条内的小方块
            ::-webkit-scrollbar-track   //滚动条轨道
            ::-webkit-scrollbar-button  //滚动条轨道两端按钮
            ::-webkit-scrollbar-track-piece  //滚动条中间部分，内置轨道
            ::-webkit-scrollbar-corner       //边角，两个滚动条交汇处
            ::-webkit-resizer            //两个滚动条的交汇处上用于通过拖动调整元素大小的小控件

    2、禁止长按链接与图片弹出菜单
            a,img { -webkit-touch-callout: none }    

    3、禁止文字复制
            html,body {-webkit-user-select:none; user-select: none; }

    4、改变输入框placeholder的颜色值
            ::-webkit-input-placeholder { /* WebKit browsers */color: #999; }
            :-moz-placeholder { /* Mozilla Firefox 4 to 18 */color: #999; }
            ::-moz-placeholder { /* Mozilla Firefox 19+ */color: #999; }
            :-ms-input-placeholder { /* Internet Explorer 10+ */color: #999; }
            input:focus::-webkit-input-placeholder{ color:#999; }

    5、android上去掉语音输入按钮
            input::-webkit-input-speech-button {display: none}

    6、阻止windows Phone的默认触摸事件
            /*说明: winphone下默认触摸事件事件使用e.preventDefault是无效的，可通过样式来禁用，如: */
            html { -ms-touch-action:none; } //禁止winphone默认触摸事件

            取消input在ios下，输入的时候英文首字母的默认大写
            &lt;input autocapitalize=&quot;off&quot; autocorrect=&quot;off&quot; /&gt;

    7、手机拍照和上传图片
            // IOS有拍照、录像、选取本地图片功能，部分Android只有选择本地图片功能。Winphone不支持
            &lt;input type=&quot;file&quot; accept=&quot;images/*&quot; /&gt;
            &lt;input type=&quot;file&quot; accept=&quot;video/*&quot; /&gt;
</code></pre><h4 id="播放视频不全屏"><a href="#播放视频不全屏" class="headerlink" title="播放视频不全屏"></a>播放视频不全屏</h4><pre><code>&lt;!--
        1.ios7+支持自动播放
        2.支持Airplay的设备（如: 音箱、Apple TV)播放
        x-webkit-airplay=&quot;true&quot; 
        3.播放视频不全屏
        webkit-playsinline=&quot;true&quot; 
--&gt;
&lt;video x-webkit-airplay=&quot;true&quot; webkit-playsinline=&quot;true&quot; preload=&quot;auto&quot; autoplay src=&quot;http://&quot;&gt;&lt;/video&gt;
</code></pre><h4 id="bug修改"><a href="#bug修改" class="headerlink" title="bug修改"></a>bug修改</h4><pre><code>android 2.3 bug
// 1.@-webkit-keyframes 需要以0%开始100%结束，0%的百分号不能去掉
// 2.after和before伪类无法使用动画animation
// 3.border-radius不支持%单位，如要兼容，可以给radius设置一下较大的值
// 4.translate百分比的写法和scale在一起会导致失效，例如: 
-webkit-transform: translate(-50%,-50%) scale(-0.5, 1)

android 4.x bug
// 1.三星 Galaxy S4中自带浏览器不支持border-radius缩写
// 2.同时设置border-radius和背景色的时候，背景色会溢出到圆角以外部分
// 3.部分手机(如三星)，a链接支持鼠标:visited事件，也就是说链接访问后文字变为紫色
// 4.android无法同时播放多音频audio

一、消除transition闪屏
    .css {
        -webkit-transform-style: preserve-3d;
        -webkit-backface-visibility: hidden;
        -webkit-perspective: 1000;
    }

二、开启硬件加速

    //目前，像Chrome/Filefox/Safari/IE9+以及最新版本Opera都支持硬件加速，当检测到某个DOM元素应用了某些CSS规则时就会自动开启，从而解决页面闪白，保证动画流畅。
    .css {
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
    }

三、渲染优化

    1、禁止使用iframe（阻塞父文档onload事件）

    2、禁止使用gif图片实现loading效果（降低CPU消耗，提升渲染性能）

    3、使用CSS3代码代替JS动画

    4、开启GPU加速

    5、使用base64位编码图片(不小图而言，大图不建议使用),以减少网络请求。比较耗费CPU。小图标优势在于: 减少HTTP请求、避免文件跨域、修改及时生效
</code></pre><p>—————————– 移动端的JS ——————————–</p>
<h4 id="移动端touch事件（区分webkit和winphone）"><a href="#移动端touch事件（区分webkit和winphone）" class="headerlink" title="移动端touch事件（区分webkit和winphone）"></a>移动端touch事件（区分webkit和winphone）</h4><pre><code>一、当用户手指放在移动设备在屏幕上滑动会触发的touch事件

    1、以下支持webkit

        touchstart: 当手指触碰屏幕时候发生。不管当前有多少只手指
        touchmove: 当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用event的preventDefault()可以阻止默认情况的发生: 阻止页面滚动
        touchend: 当手指离开屏幕时触发
        touchcancel: 系统停止跟踪触摸时候会触发。例如在触摸过程中突然页面alert()一个提示框，此时会触发该事件，这个事件比较少用

    2、TouchEvent对象 : 

        touches: 屏幕上所有手指的信息
        targetTouches: 手指在目标区域的手指信息
        changedTouches: 最近一次触发该事件的手指信息
        touchend时，touches与targetTouches信息会被删除，changedTouches保存的最后一次的信息，最好用于计算手指信息

        event.changedTouches[0].clientX  获取移动端事件

    3、参数信息(changedTouches[0])

        clientX、clientY在显示区的坐标
        target: 当前元素

    4、事件响应顺序

        ontouchstart  &gt; ontouchmove  &gt; ontouchend &gt; onclick

    5、以下支持winphone 8

        MSPointerDown: 当手指触碰屏幕时候发生。不管当前有多少只手指
        MSPointerMove: 当手指在屏幕上滑动时连续触发。通常我们再滑屏页面，会调用css的html{-ms-touch-action: none;}可以阻止默认情况的发生: 阻止页面滚动
        MSPointerUp: 当手指离开屏幕时触发


二、移动端的web页面click事件会产生200-300ms的延时响应

    移动设备上的web网页是有300ms延迟的，往往会造成按钮点击延迟甚至是点击失效。

    原因: 双击缩放是指用手指在屏幕上快速点击两次，iOS 自带的 Safari 浏览器会将网页缩放至原始比例。

            比如在点击一个&lt;a href=&quot;#&quot;&gt;&lt;/a&gt;时，浏览器先捕获是单击还是双击缩放，所以捕获一次单击后，浏览器会hold一段时间来看是否有下一次点击，这个时间间隔就是300ms，这就是延时的由来，所以使用click来触发事件需要延时300ms后才生效

    解决方案: 
            fastclick可以解决在手机上点击事件的300ms延迟
            zepto的touch模块，tap事件也是为了解决在click的延迟问题
</code></pre><h4 id="屏幕旋转的事件orientationchange"><a href="#屏幕旋转的事件orientationchange" class="headerlink" title="屏幕旋转的事件orientationchange"></a>屏幕旋转的事件orientationchange</h4><pre><code>JS处理

    function orientInit(){
            var orientChk = document.documentElement.clientWidth &gt; document.documentElement.clientHeight ? &apos;landscape&apos; : &apos;portrait&apos;;
            if(orientChk ==&apos;lapdscape&apos;){
                    //这里是横屏下需要执行的事件
            }
            else{
                    //这里是竖屏下需要执行的事件
            }
    }

    orientInit();
    window.addEventListener(&apos;onorientationchange&apos; in window?&apos;orientationchange&apos;:&apos;resize&apos;, function(){
            setTimeout(orientInit, 100);
    },false)    


CSS处理

    // 竖屏时样式
    @media all and (orientation:portrait){   }

    // 横屏时样式
    @media all and (orientation:landscape){   }
</code></pre><h4 id="audio元素和video元素在ios和andriod中无法自动播放"><a href="#audio元素和video元素在ios和andriod中无法自动播放" class="headerlink" title="audio元素和video元素在ios和andriod中无法自动播放"></a>audio元素和video元素在ios和andriod中无法自动播放</h4><pre><code>// 音频，写法一
&lt;audio src=&quot;music/bg.mp3&quot; autoplay loop controls&gt;你的浏览器还不支持哦&lt;/audio&gt;

// 音频，写法二
&lt;audio controls=&quot;controls&quot;&gt; 
        &lt;source src=&quot;music/bg.ogg&quot; type=&quot;audio/ogg&quot;&gt;&lt;/source&gt;
        &lt;source src=&quot;music/bg.mp3&quot; type=&quot;audio/mpeg&quot;&gt;&lt;/source&gt;
        优先播放音乐bg.ogg，不支持在播放bg.mp3
&lt;/audio&gt;

// JS绑定自动播放（操作window时，播放音乐）
$(window).one(&apos;touchstart&apos;, function(){
        music.play();
})

// 微信下兼容处理
document.addEventListener(&quot;WeixinJSBridgeReady&quot;, function () {
        music.play();
}, false);

// 小结
// 1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常
// 2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间
</code></pre><h4 id="重力感应事件"><a href="#重力感应事件" class="headerlink" title="重力感应事件"></a>重力感应事件</h4><pre><code>// 运用HTML5的deviceMotion，调用重力感应事件
if(window.DeviceMotionEvent){
        document.addEventListener(&apos;devicemotion&apos;, deviceMotionHandler, false)
}   

var speed = 30;
var x = y = z = lastX = lastY = lastZ = 0;
function deviceMotionHandler(event){
    var acceleration = event.accelerationIncludingGravity;
    x = acceleration.x;
    y = acceleration.y; 
    z = acceleration.z;
    if(Math.abs(x-lastX)&gt;speed || Math.abs(y-lastY)&gt;speed || Math.abs(z-lastZ)&gt;speed ){
            //这里是摇动后要执行的方法 
            yaoAfter();
    }
    lastX = x;
    lastY = y;
    lastZ = z;
}

function yaoAfter(){
        //do something
}
</code></pre><h4 id="设备判断"><a href="#设备判断" class="headerlink" title="设备判断"></a>设备判断</h4><pre><code>一、JS判断设备

    function deviceType(){
        var ua = navigator.userAgent;
        var agent = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;];    
        for(var i=0; i&lt;len,len = agent.length; i++){
            if(ua.indexOf(agent[i])&gt;0){   
                return agent[i];     
                break;
            }
        }
    }
    deviceType();
    window.addEventListener(&apos;resize&apos;, function(){
        deviceType();
    })

二、JS判断微信浏览器

    function isWeixin(){
        var ua = navigator.userAgent.toLowerCase();
        if(ua.match(/MicroMessenger/i)==&apos;micromessenger&apos;){
            return true;
        }else{
            return false;
        }
    }
</code></pre><h4 id="前端动画的几种方式"><a href="#前端动画的几种方式" class="headerlink" title="前端动画的几种方式"></a>前端动画的几种方式</h4><pre><code>一、动画方式

    1、css3的transition 和 animattion

    2、定时器, 最原始的“window.setTimout()”或者“window.setInterval()” 不断更新元素的状态位置等来实现动画

    3、requestAnimationFrame方法

    4、canvas上作图来实现动画，也可以借助jQuery动画相关的API方便地实现

    5、SVG、WebGL

二、requestAnimationFrame  注意 Android不支持此方法

    requestAnimationFrame是浏览器用于定时循环操作的一个接口，类似于setTimeout，主要用途是按帧对网页进行重绘。

    设置这个API的目的是为了让各种网页动画效果（DOM动画、Canvas动画、SVG动画、WebGL动画）能够有一个统一的刷新机制，从而节省系统资源，提高系统性能，改善视觉效果。

    1、对requestAnimationFrame方法处理兼容:

        window.requestAnimFrame = (function(){
        return  window.requestAnimationFrame ||
                        window.webkitRequestAnimationFrame ||
                        window.mozRequestAnimationFrame ||
                        window.oRequestAnimationFrame ||
                        window.msRequestAnimationFrame ||
                        function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element){
                                window.setTimeout(callback, 1000 / 60);
                        };
        })();

    2、Example

        &lt;div id=&quot;demo&quot; style=&quot;position:absolute; width:100px; height:100px; background:#ccc; left:0; top:0;&quot;&gt;&lt;/div&gt;
        &lt;script&gt;
                var demo = document.getElementById(&apos;demo&apos;);
                function render(){
                        demo.style.left = parseInt(demo.style.left) + 1 + &apos;px&apos;; //每一帧向右移动1px
                }
                var requestID = requestAnimationFrame(function(){
                        render();
                        //当超过300px后才停止
                        if(parseInt(demo.style.left) &lt;= 300) {
                                requestAnimationFrame(arguments.callee);        // arguments.callee调用函数本身，或者给函数一个名，参数传个名
                        }
                });

                // cancelAnimationFrame(requestID);      // 停止动画重绘
        &lt;/script&gt;

三、常用动画库

    Ani.js -- 基于CSS动画的生命处理库
    Dynamics.js -- 创建具有物理运动效果动画的js库
    Animate.css -- 齐全的CSS3动画库
    Three.js -- 让用户通过javascript入手进入搭建webgl项目的类库

    http://www.tuicool.com/articles/uUfYry
    http://www.jianshu.com/p/280e0ef90b96
</code></pre><h4 id="其它API"><a href="#其它API" class="headerlink" title="其它API"></a>其它API</h4><pre><code>一、querySelector()、querySelectorAll()

    获取元素 document.querySelector(&apos;#app&apos;);

二、window.devicePixelRatio 获取设备像素比，也叫做dpr

    这个属性是系统自动算出来的值返回给window.devicePixelRatio，公式就是

    // 比如ipone6 750px物理像素 / 375px设备像素，所以dpr为2，有这个属性不用我们就不用去算
    window.devicePixelRatio = 物理像素 / 设备独立像素;

三、getBoundingClientRect  js判断可视区域

    var htmlWidth = document.documentElement.getBoundingClientRect().width;     // html文档的宽度
    var top = document.documentElement.getBoundingClientRect().top;      // 元素顶端到可见区域顶端的距离
    var se = document.documentElement.clientHeight; // 浏览器可见区域高度。

四、document.documentElement、document.body

    document.body 获取body文档
    document.documentElement 获取HTML整个文档，从&lt;!DOCTYPE html&gt;开始

五、document.documentElement.getBoundingClientRect().width   获取html文档宽度

    获取文档可视区宽度

    问题
            document.body.clientWidth;   // 这里取的是body的宽度，如果body的宽度被改变
            window.innerWidth;      // 这里获取的是整个宽口的宽度，包括滚动条

    解决方法: document.documentElement.getBoundingClientRect().width
</code></pre><h4 id="fetch-新一代ajax"><a href="#fetch-新一代ajax" class="headerlink" title="fetch 新一代ajax"></a>fetch 新一代ajax</h4><pre><code>一、fetch的请求设置与响应

    fetch(&apos;/some/url&apos;, {
        method: &apos;get&apos;
    })
    .then(function(response) {
        // 成功
    })
    .catch(function(err) {
        // 出错了;等价于 then 的第二个参数,但这样更好用更直观 :(
    });


二、设置Header头

    fetch(&apos;https://www.baidu.com/search/error.html&apos;, {
        method: &apos;POST&apos;,
        headers: new Headers({
                &apos;Content-Type&apos;: &apos;application/x-www-form-urlencoded&apos;     // 指定提交方式为表单提交
        }),
        body: new URLSearchParams([[&quot;foo&quot;, 1],[&quot;bar&quot;, 2]]).toString()
    })
    .then((res)=&gt;{
        return res.text()
    })
    .then((res)=&gt;{
        console.log(res)
    })

fetch没有拦截请求和响应数据的功能，在单页面路由跳转时会需要提前去查看用户的一些登录信息，这时候需要使用Axios插件
</code></pre><h4 id="问题收集"><a href="#问题收集" class="headerlink" title="问题收集"></a>问题收集</h4><pre><code>一、keydown侦听输入个数时，中文输入法输入个数的问题 

        let username = document.querySelector(&apos;#username&apos;);

        // 如果输入中文，输入法比如输 &quot;物品&quot; 五笔需要输入 &quot;trkk&quot;，这样size为4，这样对中文判断长度会有问题
        $(&apos;#username&apos;).on(&apos;keydown&apos;, function(){
                let size = $(this).val().length;
                console.log(size);    
        })

        // 解决方法，侦听compositionend事件，返回的size正常
        $(&apos;#username&apos;).on(&apos;compositionend&apos;, function(){
                let size = $(this).val().length;
                console.log(size);  
        })

        http://www.alloyteam.com/2017/03/moves-the-input-box-fill-series-a/
        http://www.alloyteam.com/2016/12/alloytouch-full-screen-scroll-plugin-released-30-seconds-to-get-smooth-page-h5/


二、Retina屏1px边框处理

    高清屏，1px实际是2x2个像素来渲染，有的还是3x3，所以border: 1px 移动端会渲染为2px或3px

    &lt;div class=&quot;bor-box&quot;&gt;
            &lt;div class=&quot;bor-querymidea&quot;&gt;通过伪类创建边框，在通过媒体查询来适配&lt;/div&gt;
    &lt;/div&gt;

    解决方法

    1、通过-webkit-min-device-pixel-ratio 来确定两倍屏来修改边框大小

            .bor-querymidea{
                border: 1px #ccc solid;
            }

            /* 2倍屏 */
            @media only screen and (-webkit-min-device-pixel-ratio: 2.0){
                .bor-querymidea{
                    /* border: 0.5 #ccc solid;   retina屏是不识别0.5px，会解释为0 */
                    -webkit-transform: scaleY(0.5);
                    transform: scaleY(0.5);
                }
            }

            /* 3倍屏 */
            @media only screen and (-webkit-min-device-pixel-ratio: 3.0){
                .bor-querymidea{
                    -webkit-transform: scaleY(0.33);
                    transform: scaleY(0.33);
                }
            }

        2、js判断如果devicePixelRation的值

            devicePixelRation = 2; 输出viewport: &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no&quot;&gt;

            devicePixelRatio = 3; 输出 &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=0.333, maximum-scale=0.333, minimum-scale=0.333, user-scalable=no&quot;&gt;

        https://www.jianshu.com/p/7e63f5a32636          // 7咱方法


三、设置viewport 缩放比例

    (function(doc, win) {
        var scale = 1.0;
        if (win.devicePixelRatio === 2) {
            scale *= 0.5;
        }
        if (win.devicePixelRatio === 3) {
            scale *= 0.333333;
        }
        var text = &apos;&lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=&apos; + scale + &apos;, maximum-scale=&apos; + scale +&apos;, minimum-scale=&apos; + scale + &apos;, width=device-width, user-scalable=no&quot; /&gt;&apos;;
        doc.write(text);       
    })(document, window);

    https://www.cnblogs.com/stella1024/p/7199832.html
</code></pre><h4 id="收集工具"><a href="#收集工具" class="headerlink" title="收集工具"></a>收集工具</h4><pre><code>1、browsersync 多端浏览器同步测试工具  http://www.browsersync.cn/

2、lib-flexible 处理根据屏幕的尺寸将Html中的font-size的值自动转换  https://github.com/amfe/lib-flexible

3、sublime的px转rem的插件   https://github.com/flashlizi/cssrem
</code></pre><p>| <a href="http://www.uigreat.com/page/guifan" target="_blank" rel="noopener">http://www.uigreat.com/page/guifan</a>            // 移动端屏幕尺寸集合<br>| <a href="http://cubic-bezier.com/#.55,.01,.38,.99" target="_blank" rel="noopener">http://cubic-bezier.com/#.55,.01,.38,.99</a>         // 调节css3动画效果并导出代码<br>| <a href="https://segmentfault.com/a/1190000007075834" target="_blank" rel="noopener">https://segmentfault.com/a/1190000007075834</a>   // Retina屏<br>| <a href="http://mp.weixin.qq.com/s?__biz=MzAwNjI5MTYyMw==&amp;mid=404009356&amp;idx=1&amp;sn=e3218b95b78a5f043e7b0e3df49703d3&amp;scene=4#wechat_redirect" target="_blank" rel="noopener">http://mp.weixin.qq.com/s?__biz=MzAwNjI5MTYyMw==&amp;mid=404009356&amp;idx=1&amp;sn=e3218b95b78a5f043e7b0e3df49703d3&amp;scene=4#wechat_redirect</a><br>| <a href="http://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html" target="_blank" rel="noopener">http://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html</a><br>| <a href="http://www.alloyteam.com/2016/03/mobile-web-adaptation-tool-rem/#prettyPhoto" target="_blank" rel="noopener">http://www.alloyteam.com/2016/03/mobile-web-adaptation-tool-rem/#prettyPhoto</a>  rem<br>| <a href="https://github.com/amfe/article/issues/17" target="_blank" rel="noopener">https://github.com/amfe/article/issues/17</a>     // 淘宝H5终端适配</p>

        
    </section>
</article>



<div class="comments">
    <div id="disqus_thread">
        <p class="comment-tips">国内查看评论需要代理~</p>
    </div>
    <script>
    window.disqus_config = function () {
        this.language = 'zh';
        this.page.url = 'http://siguang1983.github.io/2016/12/22/移动端的那些积累/';
        this.page.title = '移动端的那些积累';
        this.page.identifier = '2016/12/22/移动端的那些积累/';
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://name.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</div>
        <footer class="footer">
    Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>
</footer>

<script type="text/javascript" src="//s13.cnzz.com/z_stat.php?id=1234567890&amp;web_id=1234567890"></script>


    </div>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/scrollspy.min.js"></script>
    
    <script type="text/javascript">
        $(function() {
            var nodes = {
                nav: $('#nav'),
                aside: $('#aside'),
                navTags: $('#nav-tags')
            };

            $('#open-panel, #aside-mask').on('click', function() {
                nodes.aside.toggleClass('panel-show');
            });
            $('#nav-tag').on('click', function(event) {
                event.preventDefault();console.log(nodes.navTags.attr('class'))
                nodes.navTags.toggleClass('tag-show');console.log(nodes.navTags.attr('class'))
            })/*.hover(function() {
                nodes.navTags.addClass('tag-show');
            }, function() {
                nodes.navTags.removeClass('tag-show');
            });*/

            
            $(document.body).scrollspy({target: '#aside-inner'});
            
        });
    </script>

</body>
</html>
