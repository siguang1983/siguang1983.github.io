<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8" />

    

    

    <title>React（之二）组件 | 大排档</title>
    <meta name="author" content="siguang(厨子)" />
    <meta name="version" content="1.0.0" />
    <meta name="keywords" content="" />
    <meta name="description" content="| react-create-app 脚手架| Router、Route| Link、Links  router的导航组件，用来切换路由| browserHistory、hashHistory| activeStyle、activeClassName  路由设置样式| IndexRoute| component、components| query| params 变量| Redirect| setRouteLeaveHook
react-create-app 脚手架$ sudo npm i cr" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
    <meta name="baidu-site-verification" content="F0CXvmUgA9" />

    
    
    <link rel="icon" href="/favicon.png">
    

    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

    <div class="app">
        <header class="header clearfix">
    <div id="nav" class="nav">
    <button id="open-panel" class="open-panel"><i class="icon-library"></i></button>

    <nav class="nav-inner">

        
        
        <li class="nav-item">
            <a class="nav-link" href="/">首页</a>
        </li>
        
        
        
        <li class="nav-item nav-item-tag">
            <a id="nav-tag" class="nav-link" href="#">标签</a>
            <div id="nav-tags" class="nav-tag-wrap">
                <i class="nav-tag-arrow"></i>
                
  <div class="widget-wrap">
    <h3 class="widget-title">
        <i class="icon-tag vm"></i>
        <span class="vm">Labels</span>
    </h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS3/">CSS3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Egg-js/">Egg.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML-CSS/">HTML/CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP详解/">HTTP详解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Jenkins/">Jenkins</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Less/">Less</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React-Native/">React Native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sass/">Sass</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Weex/">Weex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mock数据/">mock数据</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/函数式编程/">函数式编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端优化/">前端优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端插件/">前端插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端插件类/">前端插件类</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端构建工具/">前端构建工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微信小程序/">微信小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务器/">服务器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/服务端开发/">服务端开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板引擎/">模板引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器内核/">浏览器内核</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动端积累/">移动端积累</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/经济学/">经济学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/金融/">金融</a></li></ul>
    </div>
  </div>


            </div>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/archives">归档</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/atom.xml">订阅</a>
        </li>
        
        
        
        <li class="nav-item">
            <a class="nav-link" href="/about">关于</a>
        </li>
        
        
        

    </nav>
</div>

    <aside id="aside" class="aside">
    <div id="aside-mask" class="aside-mask"></div>
    <div id="aside-inner" class="aside-inner">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"><i class="icon-search-stroke"></i></button><input type="hidden" name="sitesearch" value="http://siguang1983.github.io"></form>

        
        
        
        

        
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#react-create-app-脚手架"><span class="toc-number">1.</span> <span class="toc-text">react-create-app 脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#PropTypes验证"><span class="toc-number">2.</span> <span class="toc-text">PropTypes验证</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router-4-0"><span class="toc-number">3.</span> <span class="toc-text">react-router 4.0</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router-v3"><span class="toc-number">4.</span> <span class="toc-text">react-router v3</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#react-router-redux路由"><span class="toc-number">5.</span> <span class="toc-text">react-router-redux路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dva-react-Ant-蚂蚁金服脚手架"><span class="toc-number">6.</span> <span class="toc-text">dva+react+Ant 蚂蚁金服脚手架</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#create-react-app"><span class="toc-number">7.</span> <span class="toc-text">create-react-app</span></a></li></ol>
        
    </div>
</aside>

</header>

        <div id="content" class="content"><article class="article" itemscope itemprop="blogPost">
    
    <header class="article-header">
        
        <h1 itemprop="name">
            React（之二）组件
        </h1>
        
        <div class="article-meta clearfix">
            <a class="article-date" href="/2016/12/24/React(之二)组件类/">
    
    <i class="icon-calendar"></i>
    
    <time datetime="2016-12-24T03:06:16.000Z" itemprop="datePublished">2016-12-24</time>
</a>

            
<div class="article-tag-list">
    <i class="icon-tag"></i>
    <a class="article-tag-link" href="/tags/React/">React</a>
</div>


        </div>
    </header>
    
    <section class="article-body markdown-body">
        
        <p>| react-create-app 脚手架<br>| Router、Route<br>| Link、Links  router的导航组件，用来切换路由<br>| browserHistory、hashHistory<br>| activeStyle、activeClassName  路由设置样式<br>| IndexRoute<br>| component、components<br>| query<br>| params 变量<br>| Redirect<br>| setRouteLeaveHook</p>
<h4 id="react-create-app-脚手架"><a href="#react-create-app-脚手架" class="headerlink" title="react-create-app 脚手架"></a>react-create-app 脚手架</h4><pre><code>$ sudo npm i create-react-app -g            // 全局安装，以后在安装就直接使用create-react-app命令来创建就可以

$ create-react-app my-app            // 创建+创建项目目录名

$ cd my-app

$ npm run eject            // 运行, 生成本地webpack配置文件

$ yarn start

$ yarn start、yarn build         // 启动服务、打包

$ yarn add antd        // 安装阿里ant UI框架

    在index.js中引用ant公用样式
    import &apos;antd/dist/antd.css&apos;;

$ yarn add react-router-dom    // react-router是安装4.0之前版本，react-router-dom是4之后版本


*** create-react-app 中的webpack配置在package.json中配置 ***

一、create-react-app关闭eslint提醒

    需要先npm run eject 生成本地webpack配置文件，在修改package.json中的配置

    &quot;eslintConfig&quot;: {
        &quot;extends&quot;: &quot;react-app&quot;,
        &quot;rules&quot;: {
            &quot;no-undef&quot;: &quot;off&quot;,
            &quot;no-restricted-globals&quot;: &quot;off&quot;,
            &quot;no-unused-vars&quot;: &quot;off&quot;
        }
    }

二、配置反向代理

    &quot;proxy&quot;: {
        &quot;/api/*&quot;: {
            &quot;target&quot;: &quot;http://goucai.diyicai.com&quot;,
            &quot;pathRewrite&quot;: {
                &quot;^/api/&quot;: &quot;/&quot;
            },
            &quot;changeOrigin&quot;: true,
            &quot;secure&quot;: false
        }
    }

三、使用.scss文件

    1、$ npm install sass-loader node-sass --save-dev            // 安装包

    2、在config/webpack.config.dev.js 中配置下面两项, 生产环境也需要修改webpack.config.prod.js

        {
            exclude: [/\.(js|jsx|mjs)$/, /\.html$/, /\.json$/, /\.scss/],            // 这里加添加一个/\.scss/
            loader: require.resolve(&apos;file-loader&apos;),
            options: {
                name: &apos;static/media/[name].[hash:8].[ext]&apos;,
            },
        },
        // 解析scss文件
        {
            test: /\.scss$/,
            loaders: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;sass-loader&apos;],
        },

https://github.com/facebook/create-react-app


四、常见问题

    1、&lt;src&gt;引用本地图片无效

        import JzkUrl from &apos;../../assets/img/jzk.png&apos;

        &lt;img src={JzkUrl} /&gt;
</code></pre><h4 id="PropTypes验证"><a href="#PropTypes验证" class="headerlink" title="PropTypes验证"></a>PropTypes验证</h4><pre><code>React.PropTypes 提供很多验证器来验证传入数据的有效性

当向 props 传入无效数据时，JavaScript 控制台会抛出警告。注意为了性能考虑，只在开发环境验证 propTypes。下面用例子来说明不同验证器的区别: 

Example:

    import PropTypes from &apos;prop-types&apos;;
    class Greeting extends React.Component {
        render() {
            return (
                &lt;h1&gt;Hello, {this.props.name}&lt;/h1&gt;
            );
        }
    }
    Greeting.propTypes = {
        name: PropTypes.string
    };

propTypes类型: {

    // 可以声明 prop 为指定的 JS 基本类型。默认
    // 情况下，这些 prop 都是可传可不传的。
    optionalArray: React.PropTypes.array,
    optionalBool: React.PropTypes.bool,
    optionalFunc: React.PropTypes.func,
    optionalNumber: React.PropTypes.number,
    optionalObject: React.PropTypes.object,
    optionalString: React.PropTypes.string,

    // 所有可以被渲染的对象: 数字，
    // 字符串，DOM 元素或包含这些类型的数组。
    optionalNode: React.PropTypes.node,

    // React 元素
    optionalElement: React.PropTypes.element,

    // 用 JS 的 instanceof 操作符声明 prop 为类的实例。
    optionalMessage: React.PropTypes.instanceOf(Message),

    // 用 enum 来限制 prop 只接受指定的值。
    optionalEnum: React.PropTypes.oneOf([&apos;News&apos;, &apos;Photos&apos;]),

    // 指定的多个对象类型中的一个
    optionalUnion: React.PropTypes.oneOfType([
        React.PropTypes.string,
        React.PropTypes.number,
        React.PropTypes.instanceOf(Message)
    ]),

    // 指定类型组成的数组
    optionalArrayOf: React.PropTypes.arrayOf(React.PropTypes.number),

    // 指定类型的属性构成的对象
    optionalObjectOf: React.PropTypes.objectOf(React.PropTypes.number),

    // 特定形状参数的对象
    optionalObjectWithShape: React.PropTypes.shape({
        color: React.PropTypes.string,
        fontSize: React.PropTypes.number
    }),

    // 以后任意类型加上 `isRequired` 来使 prop 不可空。
    requiredFunc: React.PropTypes.func.isRequired,

    // 不可空的任意类型
    requiredAny: React.PropTypes.any.isRequired,

    // 自定义验证器。如果验证失败需要返回一个 Error 对象。不要直接
    // 使用 `console.warn` 或抛异常，因为这样 `oneOfType` 会失效。
    customProp: function(props, propName, componentName) {
        if (!/matchme/.test(props[propName])) {
            return new Error(&apos;Validation failed!&apos;);
        }
    }
}
</code></pre><h4 id="react-router-4-0"><a href="#react-router-4-0" class="headerlink" title="react-router 4.0"></a>react-router 4.0</h4><pre><code>v3到v4版本的变化是静态路由到动态路由的变化，v2/v3将路由配置放单一个router文件中集中管理，并且页面的嵌套路路由嵌套决定

rreact-router: 是浏览器和原生应用的通用部分, 核心文件

react-router-dom: 用于浏览器

react-router-native: 是用于原生(react-native)应用的    

react-router-redux: React Router 和 Redux 的集成

react-router-config: 静态路由配置的小助手

不同之处就是后者比前者多出了 &lt;Link&gt; &lt;BrowserRouter&gt; &lt;HashRouter&gt; 这样的 DOM 类组件, 只需引用 react-router-dom 这个包就行了。当然，如果搭配 redux ，你还需要使用 react-router-redux

一、安装

    $ npm i react-router react-router-dom --save

    import { BrowserRouter as Router, Route, Switch, Link, Redirect, withRouter } from &apos;react-router-dom&apos;;

二、&lt;BrowserRouter&gt; HTML5 history路由组件

    1、basename - 为所有位置添加一个基准的url

        &lt;BrowserRouter basename=&quot;/minooo&quot; /&gt;
        &lt;Link to=&quot;/react&quot; /&gt; // 最终渲染为 &lt;a href=&quot;/minooo/react&quot;&gt;

    2、getUserConfirmation() - 导航到此页执行的函数

        const getConfirmation = (message, callback) =&gt; {
            const allowTransition = window.confirm(message)
            callback(allowTransition)
        }
        &lt;BrowserRouter getUserConfirmation={getConfirmation(&apos;Are you sure?&apos;, yourCallBack)} /&gt;

    3、forceRefresh - bool当浏览器不支持 HTML5 的 history API 时强制刷新页面

        const supportsHistory = &apos;pushState&apos; in window.history
        &lt;BrowserRouter forceRefresh={!supportsHistory} /&gt;    

    4、keyLength - 路由的长度

    5、children - 渲染唯一子元素

三、&lt;HashRouter&gt; 该技术只是用来支持旧版浏览器, Hash history 不支持 location.key 和 location.state

四、&lt;Route&gt; 页面访问地址与Router的path进行匹配，渲染出对应的UI界面

        &lt;Route path=&quot;/&quot; component={Main}&gt; - 渲染的组件

        props分别是的值: match、location、history

            &lt;Route path=&quot;/:id&quot; component={ListBasic}&gt;&lt;/Route&gt;          // 参数传给子组件
            this.props.match.params.id            // 获取参数值

五、Redirect重定向 和 未匹配路由跳转到404

    // 跳404用法
    render() {
    return (
    &lt;Router&gt;
      &lt;div className=&quot;main-container&quot;&gt;
        &lt;Route path=&quot;/main&quot; component={Main} /&gt;
        &lt;Route component={Page404}/&gt;                // 没有定义path就是没有路径匹配时
      &lt;/div&gt;
    &lt;/Router&gt;
    )
    }

    // Redirect 用法不渲染组件直接重定到其它页面
    render() {
        if(!this.state.logined){
            return (
                &lt;Redirect to=&quot;/todoList&quot; /&gt;
            )
        }
        return (
            &lt;div&gt;
                这里是Login组件
            &lt;/div&gt;
        )
    }

六、&lt;switch&gt;

    只渲染出第一个与当前访问地址匹配的 &lt;Route&gt; 或 &lt;Redirect&gt;

    // v3
    &lt;Route path=&apos;/&apos; component={App}&gt;
        &lt;IndexRoute component={Home} /&gt;
        &lt;Route path=&apos;about&apos; component={About} /&gt;
        &lt;Route path=&apos;contact&apos; component={Contact} /&gt;
    &lt;/Route&gt;

    v4中使用&lt;switch&gt;来取代&lt;IndexRouter&gt;, 当react渲染时switch下第一个子&lt;route&gt;会被渲染
    // v4
    const App = () =&gt; (
        &lt;Switch&gt;
            &lt;Route exact path=&apos;/&apos; component={Home} /&gt;
            &lt;Route path=&apos;/about&apos; component={About} /&gt;
            &lt;Route path=&apos;/contact&apos; component={Contact} /&gt;
        &lt;/Switch&gt;
    )

七、Link、NavLink

    &lt;Link to=&quot;/course&quot; /&gt;
    &lt;Link to={{
			pathname: '/course',
			search: '?sort=name',
			state: { price: 18 }
		}} /&gt;

    // 给导航使用的
    &lt;NavLink
        to=&quot;/about&quot;
        activeStyle={{ color: 'green', fontWeight: 'bold' }}
    &gt;MyBlog&lt;/NavLink&gt;

八、exact 

    表示独一无二的路由

    // 如果不加exact, &quot;/&quot; 时加载main, &quot;/login&quot; 会显示main和login两个组件，如果加了exact在&quot;/&quot;路由时只会显示main组件
    &lt;div style={{ height: "500px", backgroundColor: "#ccc"}}&gt;
        &lt;Route path=&quot;/&quot; exact component={Main} /&gt;
        &lt;Route path=&quot;/login&quot; component={Login} /&gt;
        &lt;Route path=&quot;/todoList&quot; component={TodoList} /&gt;
    &lt;/div&gt;


九、JS跳转

    export default class SelectCard extends Component {
        constructor(props){
            super(props);
        }

        goHomePage(){
            this.props.history.push(&apos;/main&apos;);            // 跳转
        }

        render(){
            return {
                &lt;div&gt;
                    &lt;button onClick={this.goHomePage.bind(this)}&gt;跳转&lt;/button&gt;
                &lt;/div&gt;
            }
        }
    }


    /** 注意如果使用redux子组件会取不到this.props.history **/
    解决方法: 在子组件中
    import PropTypes from &apos;prop-types&apos;

    子组件名.contextTypes = {
        router: PropTypes.object.isRequired
    }

    console.log( this.context.router.history.push(&apos;/&apos;) );


十、动态路由

    1、路由变量

        定义变量: &lt;Route path=&quot;/:msg&quot; component={Message} /&gt;
        获取变量: props.match.params.定义的名

        &lt;Route path=&quot;/hello/:name&quot;&gt;         // 匹配 /hello/michael 和 /hello/ryan
        &lt;Route path=&quot;/hello(/:name)&quot;&gt;       // 匹配 /hello, /hello/michael 和 /hello/ryan
        &lt;Route path=&quot;/files/*.*&quot;&gt;           // 匹配 /files/hello.jpg 和 /files/path/to/hello.jpg

        Example:

            class Message extends Component {
                render(props){
                    return (
                        &lt;div&gt;
                            // 这里this.props.params.msg 接收的是to的名字
                            &lt;h1&gt;{this.props.match.params.jumpUrl || &apos;hello&apos;}&lt;/h1&gt;
                            &lt;Links /&gt;
                        &lt;/div&gt;
                    )
                }
            }

            const Links = () =&gt;{
                &lt;nav&gt;
                    &lt;Link to=&quot;/&quot;&gt;Hello&lt;/Link&gt;
                    &lt;Link to=&quot;/yong&quot;&gt;Yong&lt;/Link&gt;
                    &lt;Link to=&quot;/feng&quot;&gt;Feng&lt;/Link&gt;
                &lt;/nav&gt;
            }

            class ParamsRoute extends Component {
                render() {
                    return (
                        &lt;Router history={hashHistory}&gt;
                            &lt;Route path=&quot;/(:msg)&quot; component={Message} /&gt;
                        &lt;/Router&gt;
                    );
                }
            }
            export default ParamsRoute;


    2、query: 获取URL中的参数

        1) 获取参数

            http://localhost:8080/#/?message=ssssss

            const Page = (props) =&gt;
                &lt;div&gt;
                    &lt;h1&gt;{props.location.query.message || &apos;Hello&apos;}&lt;/h1&gt;            // props.location.query.message输出 ssssss
                &lt;/div&gt;

        2) &lt;Link&gt;请求时带参数

            const Page = (props) =&gt;
                &lt;div&gt;
                    &lt;h1&gt;{props.location.query.message || &apos;Hello&apos;}&lt;/h1&gt;
                &lt;/div&gt;

            const Links = () =&gt;
                &lt;nav&gt;
                    &lt;Link to={{ pathname: "/", query: {message: "ssssss"} }} /&gt;         
                &lt;/nav&gt;

        3) js中请求参数 

            goToMessage(){
                that.props.history.push({ 
                    pathname : &apos;/success&apos;,
                    query : { messageTitle: &apos;充值成功&apos;, messageContent: &apos;请取您的充值单请取您的充值单请取您的充值单&apos;} 
                })
            }


十一、路嵌套和展示

    // v2/3版本 就是一个路由配置文件，在放子路由的地方使用
    &lt;div&gt;
        { this.props.childre }                // 加载子路由的位置
    &lt;/div&gt;


    // v4版本
    // router.jsx
    export default class Index extends Component {
        render() {
            return (
                &lt;Router&gt;
                    &lt;Switch&gt;
                        &lt;Layout /&gt;
                    &lt;/Switch&gt;
                &lt;/Router&gt;
            )
        }
    }

    // layout.jsx
    export default class Layout extends Component {
        render() {
            let menuHtml = () =&gt; {
                const menuItem = [];
                this.state.menuList.forEach(function(menu, idx, arr){
                    menuItem.push(
                        &lt;li&gt;
                            &lt;Link to={menu.path}&gt;{menu.title}&lt;/Link&gt;
                        &lt;/li&gt;
                    )
                })
                return menuItem
            }

            return (
                &lt;div&gt;
                    &lt;header style={{height: "100px"}}&gt;
                        菜单: { menuHtml() }
                    &lt;/header&gt;
                    &lt;main style={{ height: "500px", backgroundColor: "#ccc"}}&gt;
                        &lt;Route path=&quot;/&quot; exact component={Main} /&gt;
                        &lt;Route path=&quot;/login&quot; component={Login} /&gt;
                        &lt;Route path=&quot;/todoList&quot; component={TodoList} /&gt;
                        &lt;Route component={Page404}&gt;&lt;/Route&gt;                        // 注: 如果没有匹配路由指到到404页面, 不需要使用Redirect
                    &lt;/main&gt;
                &lt;/div&gt;
            )
        }
    }

    // login.jsx
    export default class Login extends Component {
        constructor(props){
            super(props);
            this.state = {
                logined: true
            }
        }

        render() {
            /* 这里可以不渲染组件直接重定到其它页面 */
            if(!this.state.logined){
                return (
                    &lt;Redirect to=&quot;/todoList&quot; /&gt;
                )
            }
            return (
                &lt;div&gt;
                    这里是Login组件
                &lt;/div&gt;
            )
        }
    }

https://www.jianshu.com/p/7bb4c1a0530d
https://www.jianshu.com/p/548674270455
</code></pre><h4 id="react-router-v3"><a href="#react-router-v3" class="headerlink" title="react-router v3"></a>react-router v3</h4><pre><code>一、安装

    路由是保持页面与URL间的同步

    $ npm install react-router history --save        // 安装
    import React, { Component } from &apos;react&apos;;
    import { Router, Route, hashHistory, Link } from &apos;react-router&apos;;


二、Router和Route

    Router是一个容器，路由要通过Route组件定义

    import { Router, Route, hashHistory } from &apos;react-router&apos;;
    render((
        &lt;Router history={hashHistory}&gt;
            &lt;Route path=&quot;/&quot; component={App}/&gt;
        &lt;/Router&gt;
    ), document.getElementById(&apos;app&apos;));


三、browserHistory 和 hashHistory

    import React, { Component } from &apos;react&apos;;
    import { Router, Route, browserHistory, Link } from &apos;react-router&apos;;

    class App extends Component {
        render() {
            return (
                &lt;Router history={browserHistory}&gt;            // 这里要加
                    &lt;Route path=&quot;/&quot; component={Home} /&gt;
                    &lt;Route path=&quot;/about&quot; component={About} /&gt;
                    &lt;Route path=&quot;/contact&quot; component={Contact} /&gt;
                &lt;/Router&gt;
            );
        }
    }

    二者区别:

        hashHistory: 带有&apos;#/&apos; http://localhost:5001/#/About

        browserHistory: 不会带有&apos;#/&apos; http://localhost:5001/List   生产环境使用  --history-api-fallback

        注意:

        使用browserHistory，正常点击路由切换没有问题，但是重新刷新URL就会报找不到路由，
        需要在webpack-dev-server启动的时候需要加上参数--history-api-fallback。

        或者在webpack.config.js配置中 

            devServer: {
                port: 5000,                 // 端口
                contentBase: &apos;build&apos;,       // 内容目录
                hot: true,                    // 热刷新
                inline: true,
                historyApiFallBack: true,   // react路由历史管理使用
            }


四、Link、Links、IndexLink

    是router的导航组件，用来切换路由

    1、Example

        import React, { Component } from &apos;react&apos;;
        import { Router, Route, hashHistory, Link } from &apos;react-router&apos;;

        const Home = () =&gt; &lt;div&gt;&lt;h1&gt;Home&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
        const About = () =&gt; &lt;div&gt;&lt;h1&gt;About&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
        const Contact = () =&gt; &lt;div&gt;&lt;h1&gt;Contact&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;

        // 相当于一个导航将Link包装成一个
        const Links = () =&gt;
            &lt;nav&gt;
                &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;
                &lt;Link to=&quot;/about&quot;&gt;About&lt;/Link&gt;
                &lt;Link to=&quot;/contact&quot;&gt;Contact&lt;/Link&gt;
            &lt;/nav&gt;

        class App extends Component {
            render() {
                return (
                    &lt;Router history={hashHistory}&gt;
                        &lt;Route path=&quot;/&quot; component={Home} /&gt;
                        &lt;Route path=&quot;/about&quot; component={About} /&gt;
                        &lt;Route path=&quot;/contact&quot; component={Contact} /&gt;
                    &lt;/Router&gt;
                );
            }
        }

        export default App;

    2、IndexLink

        如果是根路由&quot;/&quot;，不要使用link组件，需要使用IndexLink，因为如果是根路由activeStyle和activeClassName都会失效


五、路由配置

    基本配置:

        1、直接写到Router下
            React.render((
                &lt;Router&gt;
                    &lt;Route path=&quot;/&quot; component={App}&gt;
                        {/* 当url为&apos;/&apos;时 加载Dashboard组件，IndexRoute默认路由 */}
                        &lt;IndexRoute component={Dashboard} /&gt;
                        &lt;Route path=&quot;about&quot; component={About} /&gt;
                        &lt;Route path=&quot;inbox&quot; component={Inbox}&gt;
                            &lt;Route path=&quot;messages/:id&quot; component={Message} /&gt;
                        &lt;/Route&gt;
                    &lt;/Route&gt;
                &lt;/Router&gt;
            ), document.body);

        2、替换配置，可以写一套路由配置
            const routerConfig = [
                {
                    path:&apos;/&apos;,
                    component: Admin,        
                    indexRoute: {            // 子路由初始加载的组件
                        component: Home
                    },
                    childRoutes: [            // 子路由配置
                        { path: &apos;parentToChild&apos;, component: ParentToChild },

                        // 强制“刷新”页面的 hack
                        { path: &apos;redirect&apos;, component: Error404 },

                        // 无路由匹配的情况一定要放到最后，否则会拦截所有路由
                        { path: &apos;*&apos;, component: Error404 }
                    ]
                }
            ]

            render(&lt;Router routes={routerConfig} history={browserHistory} /&gt;, document.querySelector(&apos;#app&apos;));


    子路由的显示:

        在加载子路由的组件中的位置使用 {this.props.children}, 如果子路由没有设置IndexRoute默认路由 this.props.children返回undefined

        let IndexPage = funciton(){
            return (
                &lt;div&gt;
                    &lt;div className=&quot;side&quot;&gt; 侧栏 &lt;/side&gt;
                    &lt;div className=&quot;content&quot;&gt;
                        {this.props.children}
                    &lt;/div&gt;
                &lt;/div&gt;
            )
        }

        home页面加载显示子路由方式:

            vue使用的是&lt;router-view&gt;&lt;/router-view&gt;显示

            react 显示子路由  {this.props.children}


六、动态路由

    1、路由变量

        定义变量: &lt;Route path=&quot;/(:msg)&quot; component={Message} /&gt;
        获取变量: props.params 来获取

        &lt;Route path=&quot;/hello/:name&quot;&gt;         // 匹配 /hello/michael 和 /hello/ryan
        &lt;Route path=&quot;/hello(/:name)&quot;&gt;       // 匹配 /hello, /hello/michael 和 /hello/ryan
        &lt;Route path=&quot;/files/*.*&quot;&gt;           // 匹配 /files/hello.jpg 和 /files/path/to/hello.jpg

        Example:

            class Message extends Component {
                render(props){
                    return (
                        &lt;div&gt;
                            // 这里this.props.params.msg 接收的是to的名字

                            &lt;h1&gt;{this.props.params.msg || &apos;hello&apos;}&lt;/h1&gt;
                            &lt;Links /&gt;
                        &lt;/div&gt;
                    )
                }
            }

            const Links = () =&gt;{
                &lt;nav&gt;
                    &lt;Link to=&quot;/&quot;&gt;Hello&lt;/Link&gt;
                    &lt;Link to=&quot;/yong&quot;&gt;Yong&lt;/Link&gt;
                    &lt;Link to=&quot;/feng&quot;&gt;Feng&lt;/Link&gt;
                &lt;/nav&gt;
            }

            class ParamsRoute extends Component {
                render() {
                    return (
                        &lt;Router history={hashHistory}&gt;
                            &lt;Route path=&quot;/(:msg)&quot; component={Message} /&gt;
                        &lt;/Router&gt;
                    );
                }
            }
            export default ParamsRoute;


    2、query: 获取URL中的参数

        1) 获取参数

            http://localhost:8080/#/?message=ssssss

            const Page = (props) =&gt;
                &lt;div&gt;
                    &lt;h1&gt;{props.location.query.message || &apos;Hello&apos;}&lt;/h1&gt;            // props.location.query.message输出 ssssss
                &lt;/div&gt;

        2) 请求时带参数

            const Page = (props) =&gt;
                &lt;div&gt;
                    &lt;h1&gt;{props.location.query.message || &apos;Hello&apos;}&lt;/h1&gt;
                &lt;/div&gt;

            const Links = () =&gt;
                &lt;nav&gt;
                    &lt;Link to={{ pathname: "/", query: {message: "ssssss"} }} /&gt;         
                &lt;/nav&gt;

        Example:

            import React, {Component} from &apos;react&apos;
            import { Router, Route, Link, browserHistory } from &apos;react-router&apos;

            class Page extends Component {
                constructor(props){
                    super();
                    console.log(props);
                }
                render(){
                    return (
                        &lt;div&gt;
                            &lt;h1&gt;{this.props.location.query.message || &apos;Hello&apos;}&lt;/h1&gt;      // url带有message参数就输出, 否则输出Hello
                        &lt;/div&gt;
                    )
                }
            }

            class QueryRoute extends Component {
                render() {
                    return (
                        &lt;Router history={browserHistory}&gt;
                            &lt;Route path=&quot;/(message)&quot; component={Page} /&gt;        // http://localhost:5001/?message=12312312
                        &lt;/Router&gt;
                    );
                }
            }
            export default QueryRoute;


七、路由钩子

    return false  可以取消此次跳转

    方法一、onEnter、onLeave事件绑定到Route上

        const backLogin = (nextState, replace) =&gt; {
            console.log(nextState)
            debugger;
        }

        class App extends Component {
            render() {
                return (
                    &lt;Router history={hashHistory}&gt;
                        &lt;Route path=&quot;/&quot; component={Home} /&gt;
                        &lt;Route path=&quot;/about&quot; component={About} /&gt;
                        &lt;Route path=&quot;/contact&quot; component={Contact} onEnter={backLogin} /&gt;
                        &lt;Route path=&quot;*&quot; onEnter={backLogin} /&gt;
                    &lt;/Router&gt;
                );
            }
        }


    方法二、setRouteLeaveHook(单条路由， 要处理的函数) 路由钩子，切换路由时操作，可以用于对登录判断进行操作

        import React, { Component, PropTypes } from &apos;react&apos;;
        import { Router, Route, hashHistory, Link } from &apos;react-router&apos;;

        class Home extends Component {
            componentWillMount(){
                this.context.router.setRouteLeaveHook(
                    this.props.route,
                    this.routerWillLeave
                )
            }

            routerWillLeave( nextLocation ){
                alert(`页面即将从Home切换到${nextLocation.pathname}`);
            }

            render(){
                return &lt;div&gt;
                    &lt;h1&gt;Home&lt;/h1&gt;
                    &lt;Links /&gt;
                &lt;/div&gt;
            }
        }

        Home.contextTypes = {
            router: PropTypes.object.isRequired
        };
        const Contact = () =&gt; &lt;div&gt;&lt;h1&gt;Contact&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
        const Links = () =&gt; {
            &lt;nav&gt;
                &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;
                &lt;Link to=&quot;/contact&quot;&gt;Contact&lt;/Link&gt;
            &lt;/nav&gt;
        }

        class SetRouteLeaveHookDemo extends Component {
            render() {
                return (
                    &lt;Router history={hashHistory}&gt;
                        &lt;Route path=&quot;/&quot; component={Home} /&gt;
                        &lt;Route path=&quot;/contact&quot; component={Contact} /&gt;
                    &lt;/Router&gt;
                );
            }
        }
        export default SetRouteLeaveHookDemo;    


八、Redirect重定向:

    如果一个路由不存在就通过设置Redirect来跳转到指定的路由，用于404的跳转 定义&lt;Redirect from=&quot;/contact&quot; to=&quot;/contact-us&quot; /&gt;

    1、Redirect

        import React, { Component } from &apos;react&apos;;
        import { Router, Route, browserHistory, Link, Redirect } from &apos;react-router&apos;;

        const Home = () =&gt; &lt;div&gt;&lt;h1&gt;Home&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
        const Links = () =&gt; {
            &lt;nav&gt;
                &lt;Link to=&quot;/&quot;&gt;Home&lt;/Link&gt;
            &lt;/nav&gt;
        }

        class RedirectRoute extends Component {
            render() {
                return (
                    &lt;Router history={browserHistory}&gt;
                        &lt;Route path=&quot;/&quot; component={Home} /&gt;
                        &lt;Redirect from=&quot;*&quot; to=&quot;/&quot; /&gt;
                    &lt;/Router&gt;
                );
            }
        }
        export default RedirectRoute;


    2、IndexRedirect: 用于访问根路由重定向到某个子路由 ＜IndexRedirect to=&quot;/welcome&quot; /&gt;

        &lt;Route path=&quot;/&quot; component={App}&gt;
            ＜IndexRedirect to=&quot;/welcome&quot; /&gt;
            &lt;Route path=&quot;welcome&quot; component={Welcome} /&gt;
            &lt;Route path=&quot;about&quot; component={About} /&gt;
        &lt;/Route&gt;


九、js跳转路由

    1、browserHistory跳转

        import { browserHistory } from &apos;react-router&apos;

        handleSubmit(event) {
            browserHistory.push(&apos;/user&apos;)
        }

    2、context对象

        export default React.createClass({
            contextTypes: {
                router: React.PropTypes.object
            },

            handleSubmit(event) {
                this.context.router.push(path)
            }
        })


十、activeStyle, activeClassName

    当前路由被点击处于触发显示状态的时候，使用activeStyle来设置颜色，atciveClassName来设置class的名

    import React, { Component } from &apos;react&apos;;
    import { Router, Route, browserHistory, Link } from &apos;react-router&apos;;

    const Home = () =&gt; &lt;div&gt;&lt;h1&gt;Home&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
    const About = () =&gt; &lt;div&gt;&lt;h1&gt;About&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;
    const Contact = () =&gt; &lt;div&gt;&lt;h1&gt;Contact&lt;/h1&gt;&lt;Links /&gt;&lt;/div&gt;;

    const Links = () =&gt;
        &lt;nav&gt;
            &lt;Link activeStyle={{color: 'red'}} to=&quot;/&quot;&gt;Home&lt;/Link&gt;
            &lt;Link activeStyle={{color: 'red'}} to=&quot;/about&quot;&gt;About&lt;/Link&gt;
            &lt;Link activeStyle={{color: 'red'}} to=&quot;/contact&quot;&gt;Contact&lt;/Link&gt;
        &lt;/nav&gt;

    // className的写法 &lt;Link activeClassName=&quot;active&quot; to=&quot;/&quot;&gt;Home&lt;/Link&gt;

    class App extends Component {
        render() {
            return (
                &lt;Router history={browserHistory}&gt;
                    &lt;Route path=&quot;/&quot; component={Home} /&gt;
                    &lt;Route path=&quot;/about&quot; component={About} /&gt;
                    &lt;Route path=&quot;/contact&quot; component={Contact} /&gt;
                &lt;/Router&gt;
            );
        }
    }

    export default App;


十一、component、components

    component来指定一个路由对应加载的组件

    // 可以加载两个组件，并要指定组件中对应
    &lt;Route Componets={{ header: AppHeader, body: AppBody }}&gt;

    import React, { Component } from &apos;react&apos;;
    import { Router, Route, hashHistory, Link, IndexRoute } from &apos;react-router&apos;;

    const HomeHeader = () =&gt; &lt;h1&gt;HomeHeader&lt;/h1&gt;
    const HomeBody = () =&gt; &lt;h1&gt;HomeBody&lt;/h1&gt;
    const AboutHeader = () =&gt; &lt;h1&gt;AboutHeader&lt;/h1&gt;
    const AboutBody = () =&gt; &lt;h1&gt;AboutBody&lt;/h1&gt;

    const Container = (props) =&gt;
        &lt;div&gt;
            {props.header}
            {props.body}
            &lt;Links /&gt;
        &lt;/div&gt;

    const Links = () =&gt;
        &lt;nav&gt;
            &lt;Link to=&quot;/&quot;&gt;Hello&lt;/Link&gt;
            &lt;Link to=&quot;/about&quot;&gt;About&lt;/Link&gt;
        &lt;/nav&gt;

    class App extends Component {
        render() {
            return (
                &lt;Router history={hashHistory}&gt;
                    &lt;Route path=&quot;/&quot; component={Container}&gt;
                        &lt;IndexRoute components={{ header:HomeHeader, body:HomeBody }} /&gt;
                        &lt;Route path=&quot;about&quot; components={{ header:AboutHeader, body:AboutBody }} /&gt;
                    &lt;/Route&gt;
                &lt;/Router&gt;
            );
        }
    }

    export default App;
</code></pre><h4 id="react-router-redux路由"><a href="#react-router-redux路由" class="headerlink" title="react-router-redux路由"></a>react-router-redux路由</h4><pre><code>保持路由与应用状态（state）同步

$ npm install --save react-router-redux        // 安装

原理：允许使用react router库中的api，使用redux一样去管理应用状态state

https://www.jianshu.com/p/bccca5bb6338
http://blog.csdn.net/isaisai/article/details/78086913
https://segmentfault.com/a/1190000007862103

http://blog.csdn.net/sinat_17775997/article/details/69218382
</code></pre><h4 id="dva-react-Ant-蚂蚁金服脚手架"><a href="#dva-react-Ant-蚂蚁金服脚手架" class="headerlink" title="dva+react+Ant 蚂蚁金服脚手架"></a>dva+react+Ant 蚂蚁金服脚手架</h4><pre><code>单独加载ant UI框架，也可以使用dva-cli蚂蚁提供的脚手架，支持IE9及以上版本

一、单独添加ant  

    $ cnpm i antd --save

    import &apos;antd/dist/antd.css&apos;;         // 引入样式
    import { DatePicker } from &apos;antd&apos;;    // 这种方法的引用必须要添加babel-plugin-import的按需加载组件
    ReactDOM.render(&lt;DatePicker /&gt;, mountNode);            

二、按需加载插件 babel-plugin-import

    $ cnpm i babel-plugin-import --save

    .babelrc添加参数:
    {
        &quot;plugins&quot;: [
            [&quot;import&quot;, { &quot;libraryName&quot;: &quot;antd&quot;, &quot;libraryDirectory&quot;: &quot;es&quot;, &quot;style&quot;: &quot;css&quot; }] // `style: true` 会加载 less 文件
        ]
    }

三、dva-cli安装

    $ cnpm i dva-cli    

    $ dva new [项目名] &amp;&amp; cd [项目名]        // 创建项目

    $ cnpm install antd babel-plugin-import --save        // 安装 ant 和 babel插件（用来按需加载 antd 的脚本和样式的）

        .webpackrc文件加参数
        {
            &quot;extraBabelPlugins&quot;: [
                [&quot;import&quot;, { &quot;libraryName&quot;: &quot;antd&quot;, &quot;libraryDirectory&quot;: &quot;es&quot;, &quot;style&quot;: &quot;css&quot; }]
            ]  
        }

四、运行

    $ npm start         // 生产环境运行

    $ npm run build        // 打包项目，发布线上环境在Dist目录下生成静态文件，js、css压缩

五、redux的使用

    有两个目录，models和components, model来定义state和action的，components来编写组件

    dva提供conect方法，将model和component串联起来

    import { connect } from &apos;dva&apos;;

    const Products = ({ dispatch, products }) =&gt; { ... }
    export default connect(({ products }) =&gt; ({
        products,
    }))(Products);

六、配置

    1、 .roadhogrc.mock.js  用于mock数据的配置

        export default {
            // 支持值为 Object 和 Array
            &apos;GET /api/users&apos;: { users: [1,2] },

            // GET POST 可省略
            &apos;/api/users/1&apos;: { id: 1 },

            // 支持自定义函数，API 参考 express@4
            &apos;POST /api/users/create&apos;: (req, res) =&gt; { res.end(&apos;OK&apos;); },
        };

    2、.webpackrc  

        {
            &quot;extraBabelPlugins&quot;: [
                [&quot;import&quot;, { &quot;libraryName&quot;: &quot;antd&quot;, &quot;libraryDirectory&quot;: &quot;es&quot;, &quot;style&quot;: &quot;css&quot; }]
            ],
            &quot;entry&quot;: &quot;src/index.js&quot;,        // 可以配置webpack的选项，参数见面下roadhog的文档连接
            &quot;proxy&quot;: {                        // 设置代理
                &quot;/api&quot;: {
                    &quot;target&quot;: &quot;http://jsonplaceholder.typicode.com/&quot;,
                    &quot;changeOrigin&quot;: true,
                    &quot;pathRewrite&quot;: { &quot;^/api&quot; : &quot;&quot; }
                }
            }
        }

    3、设置端口

        默认是8000，可以在package.json中设置
        &quot;scripts&quot;: {
               &quot;start&quot;: &quot;PORT=3000 roadhog server&quot;,        // windowns设置 set PORT=3000&amp;&amp;roadhog dev
        }

    4、public目录会在build的copy到dist目录下，存放一些静态文件

https://github.com/sorrycc/blog/issues/18            // dva
https://github.com/sorrycc/roadhog/blob/master/README_zh-cn.md    // roadhog


七、fatch请求

    dva-cli中utils目录中request.js中定义了一个通过fatch来发ajax请求的方法

    业务中调用:
    function IndexPage() {
        var getUser = () =&gt; {
            Request(&apos;/api/posts&apos;, {method: &apos;GET&apos;})
            .then((data)=&gt;{
                debugger;
            })
        }
        getUser()

        return (
            &lt;div className={styles.normal}&gt;
                ...
            &lt;/div&gt;
        );
    }
    exports default IndexPage;
</code></pre><h4 id="create-react-app"><a href="#create-react-app" class="headerlink" title="create-react-app"></a>create-react-app</h4><pre><code>$ npm install create-react-app

$ create-react-app my-app

$ cd my-app/

$ npm start

http://blog.csdn.net/qtfying/article/details/78665664


一、build的打包的时候注意的地方

    在package.json中的有一个homePage: &apos;.&apos;，这个在打包的时候图片会成为相对路径，如果改成 homePage: &apos;/&apos;


二、create-react-app 配置Sass

    注意文件扩展名 *.scss

    $ npm install sass-loader node-sass --save-dev            // 安装依赖

    $ 在node_modules/react-scripts/config下找到 webpack.config.dev.js 文件，在 exclude 中添加 /.scss$/,

    $ {
            test: /\.scss$/,
            loaders: [&apos;style-loader&apos;, &apos;css-loader&apos;, &apos;sass-loader&apos;],
        },

    https://www.jianshu.com/p/96658be50642


三、create-react-app 配置router、redux

    npm i react-router --save 
    npm i redux --save 
    npm i react-redux --save


四、修改webpack配置加一个全局配置

    function resolve (dir) {
        return path.join(__dirname, &apos;..&apos;, dir)
    }

    resolve: {
        alias: {
            &apos;react-native&apos;: &apos;react-native-web&apos;,
            &apos;@&apos;: resolve(&apos;src&apos;)
        }
    }

    在页面里可以直接引用@来找到src目录

        import User from &apos;@/views/User/&apos;
</code></pre><p>| <a href="https://react-guide.github.io/react-router-cn/" target="_blank" rel="noopener">https://react-guide.github.io/react-router-cn/</a>        // React-router 中文网<br>| <a href="https://reacttraining.com/react-router/web/example/basic" target="_blank" rel="noopener">https://reacttraining.com/react-router/web/example/basic</a>    // 官方示例<br>| <a href="https://github.com/YutHelloWorld/Blog/issues/4" target="_blank" rel="noopener">https://github.com/YutHelloWorld/Blog/issues/4</a>        // v2、3迁移v4<br>| <a href="https://www.jianshu.com/p/e0a0ed6c3b8a" target="_blank" rel="noopener">https://www.jianshu.com/p/e0a0ed6c3b8a</a>                // 路由跳转登录验证<br>|<br>| <a href="https://www.jianshu.com/p/e3adc9b5f75c/" target="_blank" rel="noopener">https://www.jianshu.com/p/e3adc9b5f75c/</a><br>| <a href="https://github.com/reactjs/react-router-tutorial/tree/master/lessons" target="_blank" rel="noopener">https://github.com/reactjs/react-router-tutorial/tree/master/lessons</a>        2.0示例<br>| <a href="https://segmentfault.com/a/1190000009349377" target="_blank" rel="noopener">https://segmentfault.com/a/1190000009349377</a>        router ^4<br>| <a href="http://react-china.org/t/webpack2-react16-react-router4/10419" target="_blank" rel="noopener">http://react-china.org/t/webpack2-react16-react-router4/10419</a><br>| <a href="https://github.com/reactjs/react-router-redux" target="_blank" rel="noopener">https://github.com/reactjs/react-router-redux</a><br>| <a href="http://www.ruanyifeng.com/blog/2016/05/react_router.html?utm_source=tool.lu" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2016/05/react_router.html?utm_source=tool.lu</a><br>| <a href="https://github.com/react-guide/react-router-cn" target="_blank" rel="noopener">https://github.com/react-guide/react-router-cn</a><br>| <a href="https://github.com/ReactTraining/react-router/tree/master/examples" target="_blank" rel="noopener">https://github.com/ReactTraining/react-router/tree/master/examples</a></p>

        
    </section>
</article>



<div class="comments">
    <div id="disqus_thread">
        <p class="comment-tips">国内查看评论需要代理~</p>
    </div>
    <script>
    window.disqus_config = function () {
        this.language = 'zh';
        this.page.url = 'http://siguang1983.github.io/2016/12/24/React(之二)组件类/';
        this.page.title = 'React（之二）组件';
        this.page.identifier = '2016/12/24/React(之二)组件类/';
    };
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = 'https://name.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

</div>
        <footer class="footer">
    Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, Theme by <a href="https://github.com/sanonz/hexo-theme-concise" target="_blank">Concise</a>
</footer>

<script type="text/javascript" src="//s13.cnzz.com/z_stat.php?id=1234567890&amp;web_id=1234567890"></script>


    </div>

    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    
    <script type="text/javascript" src="/js/scrollspy.min.js"></script>
    
    <script type="text/javascript">
        $(function() {
            var nodes = {
                nav: $('#nav'),
                aside: $('#aside'),
                navTags: $('#nav-tags')
            };

            $('#open-panel, #aside-mask').on('click', function() {
                nodes.aside.toggleClass('panel-show');
            });
            $('#nav-tag').on('click', function(event) {
                event.preventDefault();console.log(nodes.navTags.attr('class'))
                nodes.navTags.toggleClass('tag-show');console.log(nodes.navTags.attr('class'))
            })/*.hover(function() {
                nodes.navTags.addClass('tag-show');
            }, function() {
                nodes.navTags.removeClass('tag-show');
            });*/

            
            $(document.body).scrollspy({target: '#aside-inner'});
            
        });
    </script>

</body>
</html>
